/*! LocalBadges - Built at 2019-09-26 20:56:20 */
!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s="./src/index.js")}({"./node_modules/@json-editor/json-editor/dist/jsoneditor.js":
/*!******************************************************************!*\
  !*** ./node_modules/@json-editor/json-editor/dist/jsoneditor.js ***!
  \******************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * @name JSON Editor
 * @description JSON Schema Based Editor
 * This library is the continuation of jdorn's great work (see also https://github.com/jdorn/json-editor/issues/800)
 * @version 1.3.5
 * @author Jeremy Dorn
 * @see https://github.com/jdorn/json-editor/
 * @see https://github.com/json-editor/json-editor
 * @license MIT
 * @example see README.md and docs/ for requirements, examples and usage info
 */!function(global,factory){"use strict";var JSONEditor=function(global,undefined){var Class;initializing=!1,fnTest=/xyz/.test(function(){window.postMessage("xyz")})?/\b_super\b/:/.*/,(Class=function(){}).extend=function extend(prop){var _super=this.prototype;initializing=!0;var prototype=new this;for(var name in initializing=!1,prop)prototype[name]="function"==typeof prop[name]&&"function"==typeof _super[name]&&fnTest.test(prop[name])?function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);return this._super=tmp,ret}}(name,prop[name]):prop[name];function Class(){!initializing&&this.init&&this.init.apply(this,arguments)}return Class.prototype=prototype,Class.prototype.constructor=Class,Class.extend=extend,Class},function(){function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:undefined};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt}CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}(),function(){for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}(),Array.isArray||(Array.isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)});var initializing,fnTest;var $isplainobject=function(obj){return!("object"!=typeof obj||obj.nodeType||null!==obj&&obj===obj.window)&&!(obj.constructor&&!Object.prototype.hasOwnProperty.call(obj.constructor.prototype,"isPrototypeOf"))},$extend=function(destination){var source,i,property;for(i=1;i<arguments.length;i++)for(property in source=arguments[i])source.hasOwnProperty(property)&&(source[property]&&$isplainobject(source[property])?(destination.hasOwnProperty(property)||(destination[property]={}),$extend(destination[property],source[property])):destination[property]=source[property]);return destination},$each=function(obj,callback){var i;if(obj&&"object"==typeof obj)if(Array.isArray(obj)||"number"==typeof obj.length&&obj.length>0&&obj.length-1 in obj){for(i=0;i<obj.length;i++)if(!1===callback(i,obj[i]))return}else if(Object.keys){var keys=Object.keys(obj);for(i=0;i<keys.length;i++)if(!1===callback(keys[i],obj[keys[i]]))return}else for(i in obj)if(obj.hasOwnProperty(i)&&!1===callback(i,obj[i]))return},$trigger=function(el,event){var e=document.createEvent("HTMLEvents");e.initEvent(event,!0,!0),el.dispatchEvent(e)},JSONEditor=function(element,options){if(!(element instanceof Element))throw new Error("element should be an instance of Element");options=$extend({},JSONEditor.defaults.options,options||{}),this.element=element,this.options=options,this.init()};JSONEditor.prototype={constructor:JSONEditor,init:function(){var self=this;this.ready=!1,this.copyClipboard=null,this.refs_with_info={},this.refs_prefix="#/counter/",this.refs_counter=1;var theme_class=JSONEditor.defaults.themes[this.options.theme||JSONEditor.defaults.theme];if(!theme_class)throw"Unknown theme "+(this.options.theme||JSONEditor.defaults.theme);this.schema=this.options.schema,this.theme=new theme_class,this.template=this.options.template,this.refs=this.options.refs||{},this.uuid=0,this.__data={};var icon_class=JSONEditor.defaults.iconlibs[this.options.iconlib||JSONEditor.defaults.iconlib];icon_class&&(this.iconlib=new icon_class),this.root_container=this.theme.getContainer(),this.element.appendChild(this.root_container),this.translate=this.options.translate||JSONEditor.defaults.translate;var fetchUrl=document.location.toString(),fileBase=this._getFileBase();this._loadExternalRefs(this.schema,function(){self._getDefinitions(self.schema,fetchUrl+"#/definitions/");var validator_options={};self.options.custom_validators&&(validator_options.custom_validators=self.options.custom_validators),self.validator=new JSONEditor.Validator(self,null,validator_options);var schema=self.expandRefs(self.schema),editor_class=self.getEditorClass(schema);self.root=self.createEditor(editor_class,{jsoneditor:self,schema:schema,required:!0,container:self.root_container}),self.root.preBuild(),self.root.build(),self.root.postBuild(),self.options.hasOwnProperty("startval")&&self.root.setValue(self.options.startval),self.validation_results=self.validator.validate(self.root.getValue()),self.root.showValidationErrors(self.validation_results),self.ready=!0,window.requestAnimationFrame(function(){self.ready&&(self.validation_results=self.validator.validate(self.root.getValue()),self.root.showValidationErrors(self.validation_results),self.trigger("ready"),self.trigger("change"))})},fetchUrl,fileBase)},getValue:function(){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before getting the value";return this.root.getValue()},setValue:function(value){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before setting the value";return this.root.setValue(value),this},validate:function(value){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before validating";return 1===arguments.length?this.validator.validate(value):this.validation_results},destroy:function(){this.destroyed||this.ready&&(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.validator=null,this.validation_results=null,this.theme=null,this.iconlib=null,this.template=null,this.__data=null,this.ready=!1,this.element.innerHTML="",this.destroyed=!0)},on:function(event,callback){return this.callbacks=this.callbacks||{},this.callbacks[event]=this.callbacks[event]||[],this.callbacks[event].push(callback),this},off:function(event,callback){if(event&&callback){this.callbacks=this.callbacks||{},this.callbacks[event]=this.callbacks[event]||[];for(var newcallbacks=[],i=0;i<this.callbacks[event].length;i++)this.callbacks[event][i]!==callback&&newcallbacks.push(this.callbacks[event][i]);this.callbacks[event]=newcallbacks}else event?(this.callbacks=this.callbacks||{},this.callbacks[event]=[]):this.callbacks={};return this},trigger:function(event){if(this.callbacks&&this.callbacks[event]&&this.callbacks[event].length)for(var i=0;i<this.callbacks[event].length;i++)this.callbacks[event][i].apply(this,[]);return this},setOption:function(option,value){if("show_errors"!==option)throw"Option "+option+" must be set during instantiation and cannot be changed later";return this.options.show_errors=value,this.onChange(),this},getEditorClass:function(schema){var classname;if(schema=this.expandSchema(schema),$each(JSONEditor.defaults.resolvers,function(i,resolver){var tmp=resolver(schema);if(tmp&&JSONEditor.defaults.editors[tmp])return classname=tmp,!1}),!classname)throw"Unknown editor for schema "+JSON.stringify(schema);if(!JSONEditor.defaults.editors[classname])throw"Unknown editor "+classname;return JSONEditor.defaults.editors[classname]},createEditor:function(editor_class,options){return options=$extend({},editor_class.options||{},options),new editor_class(options)},onChange:function(){if(this.ready&&!this.firing_change){this.firing_change=!0;var self=this;return window.requestAnimationFrame(function(){self.firing_change=!1,self.ready&&(self.validation_results=self.validator.validate(self.root.getValue()),"never"!==self.options.show_errors?self.root.showValidationErrors(self.validation_results):self.root.showValidationErrors([]),self.trigger("change"))}),this}},compileTemplate:function(template,name){var engine;if("string"==typeof(name=name||JSONEditor.defaults.template)){if(!JSONEditor.defaults.templates[name])throw"Unknown template engine "+name;if(!(engine=JSONEditor.defaults.templates[name]()))throw"Template engine "+name+" missing required library."}else engine=name;if(!engine)throw"No template engine set";if(!engine.compile)throw"Invalid template engine set";return engine.compile(template)},_data:function(el,key,value){if(3!==arguments.length)return el.hasAttribute("data-jsoneditor-"+key)?this.__data[el.getAttribute("data-jsoneditor-"+key)]:null;var uuid;el.hasAttribute("data-jsoneditor-"+key)?uuid=el.getAttribute("data-jsoneditor-"+key):(uuid=this.uuid++,el.setAttribute("data-jsoneditor-"+key,uuid)),this.__data[uuid]=value},registerEditor:function(editor){return this.editors=this.editors||{},this.editors[editor.path]=editor,this},unregisterEditor:function(editor){return this.editors=this.editors||{},this.editors[editor.path]=null,this},getEditor:function(path){if(this.editors)return this.editors[path]},watch:function(path,callback){return this.watchlist=this.watchlist||{},this.watchlist[path]=this.watchlist[path]||[],this.watchlist[path].push(callback),this},unwatch:function(path,callback){if(!this.watchlist||!this.watchlist[path])return this;if(!callback)return this.watchlist[path]=null,this;for(var newlist=[],i=0;i<this.watchlist[path].length;i++)this.watchlist[path][i]!==callback&&newlist.push(this.watchlist[path][i]);return this.watchlist[path]=newlist.length?newlist:null,this},notifyWatchers:function(path){if(!this.watchlist||!this.watchlist[path])return this;for(var i=0;i<this.watchlist[path].length;i++)this.watchlist[path][i]()},isEnabled:function(){return!this.root||this.root.isEnabled()},enable:function(){this.root.enable()},disable:function(){this.root.disable()},_getDefinitions:function(schema,path){if(schema.definitions)for(var i in schema.definitions)schema.definitions.hasOwnProperty(i)&&(this.refs[path+i]=schema.definitions[i],schema.definitions[i].definitions&&this._getDefinitions(schema.definitions[i],path+i+"/definitions/"))},_getExternalRefs:function(schema,fetchUrl){var refs={},merge_refs=function(newrefs){for(var i in newrefs)newrefs.hasOwnProperty(i)&&(refs[i]=!0)};if(schema.$ref&&"object"!=typeof schema.$ref){var ref_counter=this.refs_prefix+this.refs_counter++;"#"===schema.$ref.substr(0,1)||this.refs[schema.$ref]||(refs[schema.$ref]=!0),this.refs_with_info[ref_counter]={fetchUrl:fetchUrl,$ref:schema.$ref},schema.$ref=ref_counter}for(var i in schema)if(schema.hasOwnProperty(i)&&schema[i]&&"object"==typeof schema[i])if(Array.isArray(schema[i]))for(var j=0;j<schema[i].length;j++)schema[i][j]&&"object"==typeof schema[i][j]&&merge_refs(this._getExternalRefs(schema[i][j],fetchUrl));else merge_refs(this._getExternalRefs(schema[i],fetchUrl));return refs},_getFileBase:function(){var fileBase=this.options.ajaxBase;return void 0===fileBase&&(fileBase=this._getFileBaseFromFileLocation(document.location.toString())),fileBase},_getFileBaseFromFileLocation:function(fileLocationString){var pathItems=fileLocationString.split("/");return pathItems.pop(),pathItems.join("/")+"/"},_loadExternalRefs:function(schema,callback,fetchUrl,fileBase){var self=this,refs=this._getExternalRefs(schema,fetchUrl),done=0,waiting=0,callback_fired=!1;$each(refs,function(url){if(!self.refs[url]){if(!self.options.ajax)throw"Must set ajax option to true to load external ref "+url;self.refs[url]="loading",waiting++;var fetchUrl=url;fileBase!=url.substr(0,fileBase.length)&&"http"!=url.substr(0,4)&&"/"!=url.substr(0,1)&&(fetchUrl=fileBase+url);var r=new XMLHttpRequest;r.overrideMimeType("application/json"),r.open("GET",fetchUrl,!0),self.options.ajaxCredentials&&(r.withCredentials=self.options.ajaxCredentials),r.onreadystatechange=function(){if(4==r.readyState){if(200!==r.status)throw window.console.log(r),"Failed to fetch ref via ajax- "+url;var response;try{response=JSON.parse(r.responseText)}catch(e){throw window.console.log(e),"Failed to parse external ref "+fetchUrl}if("boolean"!=typeof response&&"object"!=typeof response||null===response||Array.isArray(response))throw"External ref does not contain a valid schema - "+fetchUrl;self.refs[url]=response;var fileBase=self._getFileBaseFromFileLocation(fetchUrl);self._getDefinitions(response,fetchUrl+"#/definitions/"),self._loadExternalRefs(response,function(){++done>=waiting&&!callback_fired&&(callback_fired=!0,callback())},fetchUrl,fileBase)}},r.send()}}),waiting||callback()},expandRefs:function(schema){for(schema=$extend({},schema);schema.$ref;){var refObj=this.refs_with_info[schema.$ref];delete schema.$ref;var fetchUrl="";refObj.$ref.startsWith("#")&&(fetchUrl=refObj.fetchUrl);var ref=fetchUrl+refObj.$ref;this.refs[ref]||(ref=fetchUrl+decodeURIComponent(refObj.$ref)),schema=this.extendSchemas(schema,$extend({},this.refs[ref]))}return schema},expandSchema:function(schema,fileBase){var i,self=this,extended=$extend({},schema);if("object"==typeof schema.type&&(Array.isArray(schema.type)?$each(schema.type,function(key,value){"object"==typeof value&&(schema.type[key]=self.expandSchema(value))}):schema.type=self.expandSchema(schema.type)),"object"==typeof schema.disallow&&(Array.isArray(schema.disallow)?$each(schema.disallow,function(key,value){"object"==typeof value&&(schema.disallow[key]=self.expandSchema(value))}):schema.disallow=self.expandSchema(schema.disallow)),schema.anyOf&&$each(schema.anyOf,function(key,value){schema.anyOf[key]=self.expandSchema(value)}),schema.dependencies&&$each(schema.dependencies,function(key,value){"object"!=typeof value||Array.isArray(value)||(schema.dependencies[key]=self.expandSchema(value))}),schema.not&&(schema.not=this.expandSchema(schema.not)),schema.allOf){for(i=0;i<schema.allOf.length;i++)extended=this.extendSchemas(extended,this.expandSchema(schema.allOf[i]));delete extended.allOf}if(schema.extends){if(Array.isArray(schema.extends))for(i=0;i<schema.extends.length;i++)extended=this.extendSchemas(extended,this.expandSchema(schema.extends[i]));else extended=this.extendSchemas(extended,this.expandSchema(schema.extends));delete extended.extends}if(schema.oneOf){var tmp=$extend({},extended);for(delete tmp.oneOf,i=0;i<schema.oneOf.length;i++)extended.oneOf[i]=this.extendSchemas(this.expandSchema(schema.oneOf[i]),tmp)}return this.expandRefs(extended)},extendSchemas:function(obj1,obj2){obj1=$extend({},obj1),obj2=$extend({},obj2);var self=this,extended={};return $each(obj1,function(prop,val){void 0!==obj2[prop]?"required"!==prop&&"defaultProperties"!==prop||"object"!=typeof val||!Array.isArray(val)?"type"!==prop||"string"!=typeof val&&!Array.isArray(val)?"object"==typeof val&&Array.isArray(val)?extended[prop]=val.filter(function(n){return-1!==obj2[prop].indexOf(n)}):extended[prop]="object"==typeof val&&null!==val?self.extendSchemas(val,obj2[prop]):val:("string"==typeof val&&(val=[val]),"string"==typeof obj2.type&&(obj2.type=[obj2.type]),obj2.type&&obj2.type.length?extended.type=val.filter(function(n){return-1!==obj2.type.indexOf(n)}):extended.type=val,1===extended.type.length&&"string"==typeof extended.type[0]?extended.type=extended.type[0]:0===extended.type.length&&delete extended.type):extended[prop]=val.concat(obj2[prop]).reduce(function(p,c){return p.indexOf(c)<0&&p.push(c),p},[]):extended[prop]=val}),$each(obj2,function(prop,val){void 0===obj1[prop]&&(extended[prop]=val)}),extended},setCopyClipboardContents:function(value){this.copyClipboard=value},getCopyClipboardContents:function(){return this.copyClipboard}},JSONEditor.defaults={themes:{},templates:{},iconlibs:{},editors:{},languages:{},resolvers:[],custom_validators:[]},JSONEditor.Validator=Class.extend({init:function(jsoneditor,schema,options){this.jsoneditor=jsoneditor,this.schema=schema||this.jsoneditor.schema,this.options=options||{},this.translate=this.jsoneditor.translate||JSONEditor.defaults.translate},validate:function(value){return this._validateSchema(this.schema,value)},_validateSchema:function(schema,value,path){var valid,i,j,self=this,errors=[],stringified=JSON.stringify(value);if(path=path||"root",schema=$extend({},this.jsoneditor.expandRefs(schema)),void 0===value)return(void 0!==schema.required&&!0===schema.required||void 0===schema.required&&!0===this.jsoneditor.options.required_by_default)&&errors.push({path:path,property:"required",message:this.translate("error_notset")}),errors;if(schema.enum){for(valid=!1,i=0;i<schema.enum.length;i++)stringified===JSON.stringify(schema.enum[i])&&(valid=!0);valid||errors.push({path:path,property:"enum",message:this.translate("error_enum")})}if(schema.extends)for(i=0;i<schema.extends.length;i++)errors=errors.concat(this._validateSchema(schema.extends[i],value,path));if(schema.allOf)for(i=0;i<schema.allOf.length;i++)errors=errors.concat(this._validateSchema(schema.allOf[i],value,path));if(schema.anyOf){for(valid=!1,i=0;i<schema.anyOf.length;i++)if(!this._validateSchema(schema.anyOf[i],value,path).length){valid=!0;break}valid||errors.push({path:path,property:"anyOf",message:this.translate("error_anyOf")})}if(schema.oneOf){valid=0;var oneof_errors=[];for(i=0;i<schema.oneOf.length;i++){var tmp=this._validateSchema(schema.oneOf[i],value,path);for(tmp.length||valid++,j=0;j<tmp.length;j++)tmp[j].path=path+".oneOf["+i+"]"+tmp[j].path.substr(path.length);oneof_errors=oneof_errors.concat(tmp)}1!==valid&&(errors.push({path:path,property:"oneOf",message:this.translate("error_oneOf",[valid])}),errors=errors.concat(oneof_errors))}if(schema.not&&(this._validateSchema(schema.not,value,path).length||errors.push({path:path,property:"not",message:this.translate("error_not")})),schema.type)if(Array.isArray(schema.type)){for(valid=!1,i=0;i<schema.type.length;i++)if(this._checkType(schema.type[i],value)){valid=!0;break}valid||errors.push({path:path,property:"type",message:this.translate("error_type_union")})}else-1!=["date","time","datetime-local"].indexOf(schema.format)&&"integer"==schema.type?this._checkType("string",""+value)||errors.push({path:path,property:"type",message:this.translate("error_type",[schema.format])}):this._checkType(schema.type,value)||errors.push({path:path,property:"type",message:this.translate("error_type",[schema.type])});if(schema.disallow)if(Array.isArray(schema.disallow)){for(valid=!0,i=0;i<schema.disallow.length;i++)if(this._checkType(schema.disallow[i],value)){valid=!1;break}valid||errors.push({path:path,property:"disallow",message:this.translate("error_disallow_union")})}else this._checkType(schema.disallow,value)&&errors.push({path:path,property:"disallow",message:this.translate("error_disallow",[schema.disallow])});if("number"==typeof value){if(schema.multipleOf||schema.divisibleBy){var divisor=schema.multipleOf||schema.divisibleBy;valid=value/divisor===Math.floor(value/divisor),window.math?valid=window.math.mod(window.math.bignumber(value),window.math.bignumber(divisor)).equals(0):window.Decimal&&(valid=new window.Decimal(value).mod(new window.Decimal(divisor)).equals(0)),valid||errors.push({path:path,property:schema.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[divisor])})}schema.hasOwnProperty("maximum")&&(valid=schema.exclusiveMaximum?value<schema.maximum:value<=schema.maximum,window.math?valid=window.math[schema.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(value),window.math.bignumber(schema.maximum)):window.Decimal&&(valid=new window.Decimal(value)[schema.exclusiveMaximum?"lt":"lte"](new window.Decimal(schema.maximum))),valid||errors.push({path:path,property:"maximum",message:this.translate(schema.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[schema.maximum])})),schema.hasOwnProperty("minimum")&&(valid=schema.exclusiveMinimum?value>schema.minimum:value>=schema.minimum,window.math?valid=window.math[schema.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(value),window.math.bignumber(schema.minimum)):window.Decimal&&(valid=new window.Decimal(value)[schema.exclusiveMinimum?"gt":"gte"](new window.Decimal(schema.minimum))),valid||errors.push({path:path,property:"minimum",message:this.translate(schema.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[schema.minimum])}))}else if("string"==typeof value)schema.maxLength&&(value+"").length>schema.maxLength&&errors.push({path:path,property:"maxLength",message:this.translate("error_maxLength",[schema.maxLength])}),schema.minLength&&(value+"").length<schema.minLength&&errors.push({path:path,property:"minLength",message:this.translate(1===schema.minLength?"error_notempty":"error_minLength",[schema.minLength])}),schema.pattern&&(new RegExp(schema.pattern).test(value)||errors.push({path:path,property:"pattern",message:this.translate("error_pattern",[schema.pattern])}));else if("object"==typeof value&&null!==value&&Array.isArray(value)){if(schema.items)if(Array.isArray(schema.items))for(i=0;i<value.length;i++)if(schema.items[i])errors=errors.concat(this._validateSchema(schema.items[i],value[i],path+"."+i));else{if(!0===schema.additionalItems)break;if(!schema.additionalItems){if(!1===schema.additionalItems){errors.push({path:path,property:"additionalItems",message:this.translate("error_additionalItems")});break}break}errors=errors.concat(this._validateSchema(schema.additionalItems,value[i],path+"."+i))}else for(i=0;i<value.length;i++)errors=errors.concat(this._validateSchema(schema.items,value[i],path+"."+i));if(schema.maxItems&&value.length>schema.maxItems&&errors.push({path:path,property:"maxItems",message:this.translate("error_maxItems",[schema.maxItems])}),schema.minItems&&value.length<schema.minItems&&errors.push({path:path,property:"minItems",message:this.translate("error_minItems",[schema.minItems])}),schema.uniqueItems){var seen={};for(i=0;i<value.length;i++){if(valid=JSON.stringify(value[i]),seen[valid]){errors.push({path:path,property:"uniqueItems",message:this.translate("error_uniqueItems")});break}seen[valid]=!0}}}else if("object"==typeof value&&null!==value){if(schema.maxProperties){for(i in valid=0,value)value.hasOwnProperty(i)&&valid++;valid>schema.maxProperties&&errors.push({path:path,property:"maxProperties",message:this.translate("error_maxProperties",[schema.maxProperties])})}if(schema.minProperties){for(i in valid=0,value)value.hasOwnProperty(i)&&valid++;valid<schema.minProperties&&errors.push({path:path,property:"minProperties",message:this.translate("error_minProperties",[schema.minProperties])})}if(void 0!==schema.required&&Array.isArray(schema.required))for(i=0;i<schema.required.length;i++)void 0===value[schema.required[i]]&&errors.push({path:path,property:"required",message:this.translate("error_required",[schema.required[i]])});var validated_properties={};for(i in schema.properties)schema.properties.hasOwnProperty(i)&&(validated_properties[i]=!0,errors=errors.concat(this._validateSchema(schema.properties[i],value[i],path+"."+i)));if(schema.patternProperties)for(i in schema.patternProperties)if(schema.patternProperties.hasOwnProperty(i)){var regex=new RegExp(i);for(j in value)value.hasOwnProperty(j)&&regex.test(j)&&(validated_properties[j]=!0,errors=errors.concat(this._validateSchema(schema.patternProperties[i],value[j],path+"."+j)))}if(void 0!==schema.additionalProperties||!this.jsoneditor.options.no_additional_properties||schema.oneOf||schema.anyOf||(schema.additionalProperties=!1),void 0!==schema.additionalProperties)for(i in value)if(value.hasOwnProperty(i)&&!validated_properties[i]){if(!schema.additionalProperties){errors.push({path:path,property:"additionalProperties",message:this.translate("error_additional_properties",[i])});break}if(!0===schema.additionalProperties)break;errors=errors.concat(this._validateSchema(schema.additionalProperties,value[i],path+"."+i))}if(schema.dependencies)for(i in schema.dependencies)if(schema.dependencies.hasOwnProperty(i)&&void 0!==value[i])if(Array.isArray(schema.dependencies[i]))for(j=0;j<schema.dependencies[i].length;j++)void 0===value[schema.dependencies[i][j]]&&errors.push({path:path,property:"dependencies",message:this.translate("error_dependency",[schema.dependencies[i][j]])});else errors=errors.concat(this._validateSchema(schema.dependencies[i],value,path))}if(-1!=["date","time","datetime-local"].indexOf(schema.format)){var format={date:'"YYYY-MM-DD"',time:'"HH:MM"',"datetime-local":'"YYYY-MM-DD HH:MM"'},ed=this.jsoneditor.getEditor(path),dateFormat=ed.flatpickr?ed.flatpickr.config.dateFormat:format[ed.format];if("integer"==schema.type)1*value<1?errors.push({path:path,property:"format",message:this.translate("error_invalid_epoch")}):value!=Math.abs(parseInt(value))&&errors.push({path:path,property:"format",message:this.translate("error_"+ed.format.replace(/-/g,"_"),[dateFormat])});else if(ed.flatpickr){if(""!==value){var compareValue;if("single"!=ed.flatpickr.config.mode){var seperator="range"==ed.flatpickr.config.mode?ed.flatpickr.l10n.rangeSeparator:", ",selectedDates=ed.flatpickr.selectedDates.map(function(val){return ed.flatpickr.formatDate(val,ed.flatpickr.config.dateFormat)});compareValue=selectedDates.join(seperator)}try{if(compareValue){if(compareValue!=value)throw ed.flatpickr.config.mode+" mismatch"}else if(ed.flatpickr.formatDate(ed.flatpickr.parseDate(value,ed.flatpickr.config.dateFormat),ed.flatpickr.config.dateFormat)!=value)throw"mismatch"}catch(err){var errorDateFormat=ed.flatpickr.config.errorDateFormat!==undefined?ed.flatpickr.config.errorDateFormat:ed.flatpickr.config.dateFormat;errors.push({path:path,property:"format",message:this.translate("error_"+ed.format.replace(/-/g,"_"),[errorDateFormat])})}}}else({date:/^(\d{4}\D\d{2}\D\d{2})?$/,time:/^(\d{2}:\d{2}(?::\d{2})?)?$/,"datetime-local":/^(\d{4}\D\d{2}\D\d{2} \d{2}:\d{2}(?::\d{2})?)?$/})[ed.format].test(value)||errors.push({path:path,property:"format",message:this.translate("error_"+ed.format.replace(/-/g,"_"),[format[ed.format]])})}return $each(JSONEditor.defaults.custom_validators,function(i,validator){errors=errors.concat(validator.call(self,schema,value,path))}),this.options.custom_validators&&$each(this.options.custom_validators,function(i,validator){errors=errors.concat(validator.call(self,schema,value,path))}),errors},_checkType:function(type,value){return"string"==typeof type?"string"===type?"string"==typeof value:"number"===type?"number"==typeof value:"integer"===type?"number"==typeof value&&value===Math.floor(value):"boolean"===type?"boolean"==typeof value:"array"===type?Array.isArray(value):"object"===type?null!==value&&!Array.isArray(value)&&"object"==typeof value:"null"!==type||null===value:!this._validateSchema(type,value).length}}),JSONEditor.AbstractEditor=Class.extend({onChildEditorChange:function(editor){this.onChange(!0)},notify:function(){this.path&&this.jsoneditor.notifyWatchers(this.path)},change:function(){this.parent?this.parent.onChildEditorChange(this):this.jsoneditor&&this.jsoneditor.onChange()},onChange:function(bubble){this.notify(),this.watch_listener&&this.watch_listener(),bubble&&this.change()},register:function(){this.jsoneditor.registerEditor(this),this.onChange()},unregister:function(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)},getNumColumns:function(){return 12},init:function(options){this.jsoneditor=options.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.translate=this.jsoneditor.translate||JSONEditor.defaults.translate,this.original_schema=options.schema,this.schema=this.jsoneditor.expandSchema(this.original_schema),this.options=$extend({},this.options||{},this.schema.options||{},options.schema.options||{},options),options.path||this.schema.id||(this.schema.id="root"),this.path=options.path||"root",this.formname=options.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.jsoneditor.options.form_name_root&&(this.formname=this.formname.replace(/^root\[/,this.jsoneditor.options.form_name_root+"[")),this.key=this.path.split(".").pop(),this.parent=options.parent,this.link_watchers=[],options.container&&this.setContainer(options.container),this.registerDependencies()},registerDependencies:function(){this.dependenciesFulfilled=!0;var deps=this.options.dependencies;if(deps){var self=this;Object.keys(deps).forEach(function(dependency){var path=self.path.split(".");path[path.length-1]=dependency,path=path.join(".");var choices=deps[dependency];self.jsoneditor.watch(path,function(){self.checkDependency(path,choices)})})}},checkDependency:function(path,choices){var wrapper=this.control||this.container;if(this.path!==path&&wrapper){var self=this,editor=this.jsoneditor.getEditor(path),value=editor?editor.getValue():undefined,previousStatus=this.dependenciesFulfilled;this.dependenciesFulfilled=!1,editor&&editor.dependenciesFulfilled?Array.isArray(choices)?choices.some(function(choice){if(value===choice)return self.dependenciesFulfilled=!0,!0}):"object"==typeof choices?"object"!=typeof value?this.dependenciesFulfilled=choices===value:Object.keys(choices).some(function(key){return!!choices.hasOwnProperty(key)&&(value.hasOwnProperty(key)&&choices[key]===value[key]?void(self.dependenciesFulfilled=!0):(self.dependenciesFulfilled=!1,!0))}):"string"==typeof choices||"number"==typeof choices?this.dependenciesFulfilled=value===choices:"boolean"==typeof choices&&(this.dependenciesFulfilled=choices?value&&value.length>0:!value||0===value.length):this.dependenciesFulfilled=!1,this.dependenciesFulfilled!==previousStatus&&this.notify(),this.dependenciesFulfilled?wrapper.style.display="block":wrapper.style.display="none"}},setContainer:function(container){this.container=container,this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id),this.schema.type&&"string"==typeof this.schema.type&&this.container.setAttribute("data-schematype",this.schema.type),this.container.setAttribute("data-schemapath",this.path)},preBuild:function(){},build:function(){},postBuild:function(){this.setupWatchListeners(),this.addLinks(),this.setValue(this.getDefault(),!0),this.updateHeaderText(),this.register(),this.onWatchedFieldChange()},setupWatchListeners:function(){var path,path_parts,first,root,adjusted_path,self=this;if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=function(){self.refreshWatchedFieldValues()&&self.onWatchedFieldChange()},this.schema.hasOwnProperty("watch"))for(var name in this.schema.watch)if(this.schema.watch.hasOwnProperty(name)){if(path=this.schema.watch[name],Array.isArray(path)){if(path.length<2)continue;path_parts=[path[0]].concat(path[1].split("."))}else path_parts=path.split("."),self.theme.closest(self.container,'[data-schemaid="'+path_parts[0]+'"]')||path_parts.unshift("#");if("#"===(first=path_parts.shift())&&(first=self.jsoneditor.schema.id||"root"),!(root=self.theme.closest(self.container,'[data-schemaid="'+first+'"]')))throw"Could not find ancestor node with id "+first;adjusted_path=root.getAttribute("data-schemapath")+"."+path_parts.join("."),self.jsoneditor.watch(adjusted_path,self.watch_listener),self.watched[name]=adjusted_path}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))},addLinks:function(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),this.container.appendChild(this.link_holder),this.schema.links))for(var i=0;i<this.schema.links.length;i++)this.addLink(this.getLink(this.schema.links[i]))},onMove:function(){},getButton:function(text,icon,title){var btnClass="json-editor-btn-"+icon;!(icon=this.iconlib?this.iconlib.getIcon(icon):null)&&title&&(text=title,title=null);var btn=this.theme.getButton(text,icon,title);return btn.classList.add(btnClass),btn},setButtonText:function(button,text,icon,title){return!(icon=this.iconlib?this.iconlib.getIcon(icon):null)&&title&&(text=title,title=null),this.theme.setButtonText(button,text,icon,title)},addLink:function(link){this.link_holder&&this.link_holder.appendChild(link)},getLink:function(data){var holder,link,mime=data.mediaType||"application/javascript",type=mime.split("/")[0],href=this.jsoneditor.compileTemplate(data.href,this.template_engine),relTemplate=this.jsoneditor.compileTemplate(data.rel?data.rel:data.href,this.template_engine),download=null;if(data.download&&(download=data.download),download&&!0!==download&&(download=this.jsoneditor.compileTemplate(download,this.template_engine)),"image"===type){holder=this.theme.getBlockLinkHolder(),(link=document.createElement("a")).setAttribute("target","_blank");var image=document.createElement("img");this.theme.createImageLink(holder,link,image),this.link_watchers.push(function(vars){var url=href(vars),rel=relTemplate(vars);link.setAttribute("href",url),link.setAttribute("title",rel||url),image.setAttribute("src",url)})}else if(["audio","video"].indexOf(type)>=0){holder=this.theme.getBlockLinkHolder(),(link=this.theme.getBlockLink()).setAttribute("target","_blank");var media=document.createElement(type);media.setAttribute("controls","controls"),this.theme.createMediaLink(holder,link,media),this.link_watchers.push(function(vars){var url=href(vars),rel=relTemplate(vars);link.setAttribute("href",url),link.textContent=rel||url,media.setAttribute("src",url)})}else link=holder=this.theme.getBlockLink(),holder.setAttribute("target","_blank"),holder.textContent=data.rel,this.link_watchers.push(function(vars){var url=href(vars),rel=relTemplate(vars);holder.setAttribute("href",url),holder.textContent=rel||url});return download&&link&&(!0===download?link.setAttribute("download",""):this.link_watchers.push(function(vars){link.setAttribute("download",download(vars))})),data.class&&link.classList.add(data.class),holder},refreshWatchedFieldValues:function(){if(this.watched_values){var val,editor,watched={},changed=!1;if(this.watched)for(var name in this.watched)this.watched.hasOwnProperty(name)&&(editor=this.jsoneditor.getEditor(this.watched[name]),val=editor?editor.getValue():null,this.watched_values[name]!==val&&(changed=!0),watched[name]=val);return watched.self=this.getValue(),this.watched_values.self!==watched.self&&(changed=!0),this.watched_values=watched,changed}},getWatchedFieldValues:function(){return this.watched_values},updateHeaderText:function(){if(this.header)if(this.header.children.length){for(var i=0;i<this.header.childNodes.length;i++)if(3===this.header.childNodes[i].nodeType){this.header.childNodes[i].nodeValue=this.getHeaderText();break}}else this.header.textContent=this.getHeaderText()},getHeaderText:function(title_only){return this.header_text?this.header_text:title_only?this.schema.title:this.getTitle()},onWatchedFieldChange:function(){var vars;if(this.header_template){vars=$extend(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:1*this.key,i1:1*this.key+1,title:this.getTitle()});var header_text=this.header_template(vars);header_text!==this.header_text&&(this.header_text=header_text,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){vars=this.getWatchedFieldValues();for(var i=0;i<this.link_watchers.length;i++)this.link_watchers[i](vars)}},setValue:function(value){this.value=value},getValue:function(){return this.dependenciesFulfilled?this.value:undefined},refreshValue:function(){},getChildEditors:function(){return!1},destroy:function(){var self=this;this.unregister(this),$each(this.watched,function(name,adjusted_path){self.jsoneditor.unwatch(adjusted_path,self.watch_listener)}),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null},getDefault:function(){if(void 0!==this.schema.default)return this.schema.default;if(void 0!==this.schema.enum)return this.schema.enum[0];var type=this.schema.type||this.schema.oneOf;if(type&&Array.isArray(type)&&(type=type[0]),type&&"object"==typeof type&&(type=type.type),type&&Array.isArray(type)&&(type=type[0]),"string"==typeof type){if("number"===type)return 0;if("boolean"===type)return!1;if("integer"===type)return 0;if("string"===type)return"";if("object"===type)return{};if("array"===type)return[]}return null},getTitle:function(){return this.schema.title||this.key},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},isEnabled:function(){return!this.disabled},isRequired:function(){return"boolean"==typeof this.schema.required?this.schema.required:this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required)?this.parent.schema.required.indexOf(this.key)>-1:!!this.jsoneditor.options.required_by_default},getDisplayText:function(arr){var disp=[],used={};$each(arr,function(i,el){el.title&&(used[el.title]=used[el.title]||0,used[el.title]++),el.description&&(used[el.description]=used[el.description]||0,used[el.description]++),el.format&&(used[el.format]=used[el.format]||0,used[el.format]++),el.type&&(used[el.type]=used[el.type]||0,used[el.type]++)}),$each(arr,function(i,el){var name;name="string"==typeof el?el:el.title&&used[el.title]<=1?el.title:el.format&&used[el.format]<=1?el.format:el.type&&used[el.type]<=1?el.type:el.description&&used[el.description]<=1?el.descripton:el.title?el.title:el.format?el.format:el.type?el.type:el.description?el.description:JSON.stringify(el).length<500?JSON.stringify(el):"type",disp.push(name)});var inc={};return $each(disp,function(i,name){inc[name]=inc[name]||0,inc[name]++,used[name]>1&&(disp[i]=name+" "+inc[name])}),disp},getValidId:function(id){return(id=id===undefined?"":id.toString()).replace(/\s+/g,"-")},setInputAttributes:function(inputAttribute){if(this.schema.options&&this.schema.options.inputAttributes){var inputAttributes=this.schema.options.inputAttributes,protectedAttributes=["name","type"].concat(inputAttribute);for(var key in inputAttributes)inputAttributes.hasOwnProperty(key)&&-1==protectedAttributes.indexOf(key.toLowerCase())&&this.input.setAttribute(key,inputAttributes[key])}},getOption:function(key){try{throw"getOption is deprecated"}catch(e){window.console.error(e)}return this.options[key]},showValidationErrors:function(errors){}}),JSONEditor.defaults.editors.null=JSONEditor.AbstractEditor.extend({getValue:function(){return this.dependenciesFulfilled?null:undefined},setValue:function(){this.onChange()},getNumColumns:function(){return 2}}),JSONEditor.defaults.editors.string=JSONEditor.AbstractEditor.extend({register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},setValue:function(value,initial,from_template){if((!this.template||from_template)&&(null===value||void 0===value?value="":"object"==typeof value?value=JSON.stringify(value):"string"!=typeof value&&(value=""+value),value!==this.serialized)){var sanitized=this.sanitize(value);if(this.input.value!==sanitized){this.input.value=sanitized,this.sceditor_instance?this.sceditor_instance.val(sanitized):this.SimpleMDE?this.SimpleMDE.value(sanitized):this.ace_editor&&(this.ace_editor.setValue(sanitized),this.ace_editor.session.getSelection().clearSelection(),this.ace_editor.resize());var changed=from_template||this.getValue()!==value;this.refreshValue(),initial?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(changed)}}},getNumColumns:function(){var num,min=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);return num="textarea"===this.input_type?6:["text","email"].indexOf(this.input_type)>=0?4:2,Math.min(12,Math.max(min,num))},build:function(){var self=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if("textarea"===this.format)this.input_type="textarea",this.input=this.theme.getTextareaInput();else if("range"===this.format){this.input_type="range";var min=this.schema.minimum||0,max=this.schema.maximum||Math.max(100,min+1),step=1;this.schema.multipleOf&&(min%this.schema.multipleOf&&(min=Math.ceil(min/this.schema.multipleOf)*this.schema.multipleOf),max%this.schema.multipleOf&&(max=Math.floor(max/this.schema.multipleOf)*this.schema.multipleOf),step=this.schema.multipleOf),this.input=this.theme.getRangeInput(min,max,step)}else["actionscript","batchfile","bbcode","c","c++","cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","groovy","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","markdown","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","r","ruby","sass","scala","scss","smarty","sql","sqlserver","stylus","svg","twig","vbscript","xml","yaml"].indexOf(this.format)>=0?(this.input_type=this.format,this.source_code=!0,this.input=this.theme.getTextareaInput()):(this.input_type=this.format,this.input=this.theme.getFormInputField(this.input_type));else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);if(void 0!==this.schema.maxLength&&this.input.setAttribute("maxlength",this.schema.maxLength),void 0!==this.schema.pattern?this.input.setAttribute("pattern",this.schema.pattern):void 0!==this.schema.minLength&&this.input.setAttribute("pattern",".{"+this.schema.minLength+",}"),this.options.compact?this.container.classList.add("compact"):this.options.input_width&&(this.input.style.width=this.options.input_width),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.always_disabled=!0,this.input.setAttribute("readonly","true")),this.setInputAttributes(["maxlength","pattern","readonly","min","max","step"]),this.input.addEventListener("change",function(e){if(e.preventDefault(),e.stopPropagation(),self.schema.template)this.value=self.value;else{var val=this.value,sanitized=self.sanitize(val);val!==sanitized&&(this.value=sanitized),self.is_dirty=!0,self.refreshValue(),self.onChange(!0)}}),this.options.input_height&&(this.input.style.height=this.options.input_height),this.options.expand_height&&(this.adjust_height=function(el){if(el){var i,ch=el.offsetHeight;if(el.offsetHeight<el.scrollHeight)for(i=0;el.offsetHeight<el.scrollHeight+3&&!(i>100);)i++,ch++,el.style.height=ch+"px";else{for(i=0;el.offsetHeight>=el.scrollHeight+3&&!(i>100);)i++,ch--,el.style.height=ch+"px";el.style.height=ch+1+"px"}}},this.input.addEventListener("keyup",function(e){self.adjust_height(this)}),this.input.addEventListener("change",function(e){self.adjust_height(this)}),this.adjust_height()),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),"range"===this.format){var output=document.createElement("output");output.setAttribute("class","range-output"),this.control.appendChild(output),output.value=this.schema.default,this.input.addEventListener("change",function(){output.value=self.input.value}),this.input.addEventListener("input",function(){output.value=self.input.value})}this.container.appendChild(this.control),window.requestAnimationFrame(function(){self.input.parentNode&&self.afterInputReady(),self.adjust_height&&self.adjust_height(self.input)}),this.schema.template?(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()):this.refreshValue()},postBuild:function(){this._super(),window.Cleave&&this.schema.options&&"object"==typeof this.schema.options.cleave&&(this.cleave=new window.Cleave(this.input,this.schema.options.cleave))},enable:function(){this.always_disabled||(this.input.disabled=!1,this._super())},disable:function(always_disabled){always_disabled&&(this.always_disabled=!0),this.input.disabled=!0,this._super()},afterInputReady:function(){var options,self=this;if(this.source_code)if(this.options.wysiwyg&&["html","bbcode"].indexOf(this.input_type)>=0&&window.jQuery&&window.jQuery.fn&&window.jQuery.fn.sceditor)options=$extend({},{plugins:"html"===self.input_type?"xhtml":"bbcode",emoticonsEnabled:!1,width:"100%",height:300},JSONEditor.plugins.sceditor,self.options.sceditor_options||{}),window.jQuery(self.input).sceditor(options),self.sceditor_instance=window.jQuery(self.input).sceditor("instance"),self.sceditor_instance.blur(function(){var val=window.jQuery("<div>"+self.sceditor_instance.val()+"</div>");window.jQuery("#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf",val).remove(),self.input.value=val.html(),self.value=self.input.value,self.is_dirty=!0,self.onChange(!0)});else if("markdown"===this.input_type&&window.SimpleMDE)options=$extend({},JSONEditor.plugins.SimpleMDE,{element:this.input}),this.SimpleMDE=new window.SimpleMDE(options),this.SimpleMDE.codemirror.on("change",function(){self.value=self.SimpleMDE.value(),self.is_dirty=!0,self.onChange(!0)});else if(window.ace){var mode=this.input_type;"cpp"!==mode&&"c++"!==mode&&"c"!==mode||(mode="c_cpp"),this.ace_container=document.createElement("div"),this.ace_container.style.width="100%",this.ace_container.style.position="relative",this.ace_container.style.height="400px",this.input.parentNode.insertBefore(this.ace_container,this.input),this.input.style.display="none",this.ace_editor=window.ace.edit(this.ace_container);var aceOptions=this.schema.options&&this.schema.options.ace;aceOptions&&this.ace_editor.setOptions(aceOptions),this.ace_editor.setValue(this.getValue()),this.ace_editor.session.getSelection().clearSelection(),this.ace_editor.resize(),JSONEditor.plugins.ace.theme&&this.ace_editor.setTheme("ace/theme/"+JSONEditor.plugins.ace.theme),this.ace_editor.getSession().setMode("ace/mode/"+this.schema.format),this.ace_editor.on("change",function(){var val=self.ace_editor.getValue();self.input.value=val,self.refreshValue(),self.is_dirty=!0,self.onChange(!0)})}self.theme.afterInputReady(self.input)},refreshValue:function(){this.value=this.input.value,"string"!=typeof this.value&&(this.value=""),this.serialized=this.value},destroy:function(){this.sceditor_instance?this.sceditor_instance.destroy():this.SimpleMDE?(this.SimpleMDE.toTextArea(),this.SimpleMDE=null):this.ace_editor&&this.ace_editor.destroy(),this.cleave&&this.cleave.destroy(),this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this._super()},sanitize:function(value){return value},onWatchedFieldChange:function(){var vars;this.template&&(vars=this.getWatchedFieldValues(),this.setValue(this.template(vars),!1,!0)),this._super()},showValidationErrors:function(errors){var self=this;if("always"===this.jsoneditor.options.show_errors);else if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return;this.previous_error_setting=this.jsoneditor.options.show_errors;var messages=[];$each(errors,function(i,error){error.path===self.path&&messages.push(error.message)}),messages.length?this.theme.addInputError(this.input,messages.join(". ")+"."):this.theme.removeInputError(this.input)}}),JSONEditor.defaults.editors.hidden=JSONEditor.AbstractEditor.extend({register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},setValue:function(value,initial,from_template){if((!this.template||from_template)&&(null===value||void 0===value?value="":"object"==typeof value?value=JSON.stringify(value):"string"!=typeof value&&(value=""+value),value!==this.serialized)){var sanitized=this.sanitize(value);if(this.input.value!==sanitized){this.input.value=sanitized;var changed=from_template||this.getValue()!==value;this.refreshValue(),initial?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(changed)}}},getNumColumns:function(){return 2},enable:function(){this._super()},disable:function(){this._super()},refreshValue:function(){this.value=this.input.value,"string"!=typeof this.value&&(this.value=""),this.serialized=this.value},destroy:function(){this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this._super()},sanitize:function(value){return value},onWatchedFieldChange:function(){var vars;this.template&&(vars=this.getWatchedFieldValues(),this.setValue(this.template(vars),!1,!0)),this._super()},build:function(){this.format=this.schema.format,!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.input_type="hidden",this.input=this.theme.getFormInputField(this.input_type),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.container.appendChild(this.input),this.schema.template?(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()):this.refreshValue()}}),JSONEditor.defaults.editors.number=JSONEditor.defaults.editors.string.extend({build:function(){if(this._super(),void 0!==this.schema.minimum){var minimum=this.schema.minimum;void 0!==this.schema.exclusiveMinimum&&(minimum+=1),this.input.setAttribute("min",minimum)}if(void 0!==this.schema.maximum){var maximum=this.schema.maximum;void 0!==this.schema.exclusiveMaximum&&(maximum-=1),this.input.setAttribute("max",maximum)}if(void 0!==this.schema.step){var step=this.schema.step||1;this.input.setAttribute("step",step)}this.setInputAttributes(["maxlength","pattern","readonly","min","max","step"])},sanitize:function(value){return(value+"").replace(/[^0-9\.\-eE]/g,"")},getNumColumns:function(){return 2},getValue:function(){return this.dependenciesFulfilled?""===this.value?undefined:1*this.value:undefined}}),JSONEditor.defaults.editors.integer=JSONEditor.defaults.editors.number.extend({sanitize:function(value){return(value+="").replace(/[^0-9\-]/g,"")},getNumColumns:function(){return 2}}),JSONEditor.defaults.editors.rating=JSONEditor.defaults.editors.integer.extend({build:function(){var i,self=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description));var styleId="json-editor-style-rating",styles=document.getElementById(styleId);if(!styles){var style=document.createElement("style");style.id=styleId,style.type="text/css",style.innerHTML="      .rating-container {        display: inline-block;        clear: both;      }            .rating {        float:left;      }            /* :not(:checked) is a filter, so that browsers that don’t support :checked don’t         follow these rules. Every browser that supports :checked also supports :not(), so         it doesn’t make the test unnecessarily selective */      .rating:not(:checked) > input {        position:absolute;        top:-9999px;        clip:rect(0,0,0,0);      }            .rating:not(:checked) > label {        float:right;        width:1em;        padding:0 .1em;        overflow:hidden;        white-space:nowrap;        cursor:pointer;        color:#ddd;      }            .rating:not(:checked) > label:before {        content: '★ ';      }            .rating > input:checked ~ label {        color: #FFB200;      }            .rating:not([readOnly]):not(:checked) > label:hover,      .rating:not([readOnly]):not(:checked) > label:hover ~ label {        color: #FFDA00;      }            .rating:not([readOnly]) > input:checked + label:hover,      .rating:not([readOnly]) > input:checked + label:hover ~ label,      .rating:not([readOnly]) > input:checked ~ label:hover,      .rating:not([readOnly]) > input:checked ~ label:hover ~ label,      .rating:not([readOnly]) > label:hover ~ input:checked ~ label {        color: #FF8C0D;      }            .rating:not([readOnly])  > label:active {        position:relative;        top:2px;        left:2px;      }",document.getElementsByTagName("head")[0].appendChild(style)}this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input);var ratingContainer=document.createElement("div");ratingContainer.classList.add("rating-container");var group=document.createElement("div");group.setAttribute("name",this.formname),group.classList.add("rating"),ratingContainer.appendChild(group),this.options.compact&&this.container.setAttribute("class",this.container.getAttribute("class")+" compact");var max=this.schema.maximum?this.schema.maximum:5;for(this.schema.exclusiveMaximum&&max--,this.inputs=[],i=max;i>0;i--){var id=this.formname+i,radioInput=this.theme.getFormInputField("radio");radioInput.setAttribute("id",id),radioInput.setAttribute("value",i),radioInput.setAttribute("name",this.formname),group.appendChild(radioInput),this.inputs.push(radioInput);var label=document.createElement("label");label.setAttribute("for",id),label.appendChild(document.createTextNode(i+(1==i?" star":" stars"))),group.appendChild(label)}(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,$each(this.inputs,function(i,input){group.setAttribute("readOnly","readOnly"),input.disabled=!0})),ratingContainer.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),self.input.value=e.srcElement.value,self.is_dirty=!0,self.refreshValue(),self.watch_listener(),self.jsoneditor.notifyWatchers(self.path),self.parent?self.parent.onChildEditorChange(self):self.jsoneditor.onChange()}),this.control=this.theme.getFormControl(this.label,ratingContainer,this.description),this.container.appendChild(this.control),this.refreshValue()},setValue:function(val){var sanitized=this.sanitize(val);if(this.value!==sanitized){var self=this;$each(this.inputs,function(i,input){if(input.value===sanitized)return input.checked=!0,self.value=sanitized,self.input.value=self.value,self.watch_listener(),self.jsoneditor.notifyWatchers(self.path),!1})}}}),JSONEditor.defaults.editors.object=JSONEditor.AbstractEditor.extend({getDefault:function(){return $extend({},this.schema.default||{})},getChildEditors:function(){return this.editors},register:function(){if(this._super(),this.editors)for(var i in this.editors)this.editors.hasOwnProperty(i)&&this.editors[i].register()},unregister:function(){if(this._super(),this.editors)for(var i in this.editors)this.editors.hasOwnProperty(i)&&this.editors[i].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.maxwidth),3)},enable:function(){if(!this.always_disabled&&(this.editjson_button&&(this.editjson_button.disabled=!1),this.addproperty_button&&(this.addproperty_button.disabled=!1),this._super(),this.editors))for(var i in this.editors)this.editors.hasOwnProperty(i)&&this.editors[i].enable()},disable:function(always_disabled){if(always_disabled&&(this.always_disabled=!0),this.editjson_button&&(this.editjson_button.disabled=!0),this.addproperty_button&&(this.addproperty_button.disabled=!0),this.hideEditJSON(),this._super(),this.editors)for(var i in this.editors)this.editors.hasOwnProperty(i)&&this.editors[i].disable(always_disabled)},layoutEditors:function(){var i,j,self=this;if(this.row_container){var container;this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(a,b){var ordera=self.editors[a].schema.propertyOrder,orderb=self.editors[b].schema.propertyOrder;return"number"!=typeof ordera&&(ordera=1e3),"number"!=typeof orderb&&(orderb=1e3),ordera-orderb});var isCategoriesFormat="categories"===this.format;if("grid"===this.format){var rows=[];for($each(this.property_order,function(j,key){var editor=self.editors[key];if(!editor.property_removed){for(var found=!1,width=editor.options.hidden?0:editor.options.grid_columns||editor.getNumColumns(),height=editor.options.hidden?0:editor.container.offsetHeight,i=0;i<rows.length;i++)rows[i].width+width<=12&&(!height||.5*rows[i].minh<height&&2*rows[i].maxh>height)&&(found=i);!1===found&&(rows.push({width:0,minh:999999,maxh:0,editors:[]}),found=rows.length-1),rows[found].editors.push({key:key,width:width,height:height}),rows[found].width+=width,rows[found].minh=Math.min(rows[found].minh,height),rows[found].maxh=Math.max(rows[found].maxh,height)}}),i=0;i<rows.length;i++)if(rows[i].width<12){var biggest=!1,new_width=0;for(j=0;j<rows[i].editors.length;j++)!1===biggest?biggest=j:rows[i].editors[j].width>rows[i].editors[biggest].width&&(biggest=j),rows[i].editors[j].width*=12/rows[i].width,rows[i].editors[j].width=Math.floor(rows[i].editors[j].width),new_width+=rows[i].editors[j].width;new_width<12&&(rows[i].editors[biggest].width+=12-new_width),rows[i].width=12}if(this.layout===JSON.stringify(rows))return!1;for(this.layout=JSON.stringify(rows),container=document.createElement("div"),i=0;i<rows.length;i++){var row=this.theme.getGridRow();for(container.appendChild(row),j=0;j<rows[i].editors.length;j++){var key=rows[i].editors[j].key,editor=this.editors[key];editor.options.hidden?editor.container.style.display="none":this.theme.setGridColumnSize(editor.container,rows[i].editors[j].width),row.appendChild(editor.container)}}}else{if(container=document.createElement("div"),isCategoriesFormat){var containerSimple=document.createElement("div"),newTabs_holder=this.theme.getTopTabHolder(this.schema.title),newTabPanesContainer=this.theme.getTopTabContentHolder(newTabs_holder);for($each(this.property_order,function(i,key){var editor=self.editors[key];if(!editor.property_removed){var aPane=self.theme.getTabContent(),isObjOrArray=editor.schema&&("object"===editor.schema.type||"array"===editor.schema.type);aPane.isObjOrArray=isObjOrArray;var gridRow=self.theme.getGridRow();editor.tab||(void 0===self.basicPane?self.addRow(editor,newTabs_holder,aPane):self.addRow(editor,newTabs_holder,self.basicPane)),aPane.id=self.getValidId(editor.tab_text.textContent),isObjOrArray?(aPane.appendChild(gridRow),newTabPanesContainer.appendChild(aPane),self.theme.addTopTab(newTabs_holder,editor.tab)):(containerSimple.appendChild(gridRow),newTabPanesContainer.childElementCount>0?newTabPanesContainer.firstChild.isObjOrArray&&(aPane.appendChild(containerSimple),newTabPanesContainer.insertBefore(aPane,newTabPanesContainer.firstChild),self.theme.insertBasicTopTab(editor.tab,newTabs_holder),editor.basicPane=aPane):(aPane.appendChild(containerSimple),newTabPanesContainer.appendChild(aPane),self.theme.addTopTab(newTabs_holder,editor.tab),editor.basicPane=aPane)),editor.options.hidden?editor.container.style.display="none":self.theme.setGridColumnSize(editor.container,12),gridRow.appendChild(editor.container),editor.rowPane=aPane}});this.tabPanesContainer.firstChild;)this.tabPanesContainer.removeChild(this.tabPanesContainer.firstChild);var parentTabs_holder=this.tabs_holder.parentNode;parentTabs_holder.removeChild(parentTabs_holder.firstChild),parentTabs_holder.appendChild(newTabs_holder),this.tabPanesContainer=newTabPanesContainer,this.tabs_holder=newTabs_holder;var firstTab=this.theme.getFirstTab(this.tabs_holder);return void(firstTab&&$trigger(firstTab,"click"))}$each(this.property_order,function(i,key){var editor=self.editors[key];if(!editor.property_removed){var row=self.theme.getGridRow();container.appendChild(row),editor.options.hidden?editor.container.style.display="none":self.theme.setGridColumnSize(editor.container,12),row.appendChild(editor.container)}})}for(;this.row_container.firstChild;)this.row_container.removeChild(this.row_container.firstChild);this.row_container.appendChild(container)}},getPropertySchema:function(key){var schema=this.schema.properties[key]||{};schema=$extend({},schema);var matched=!!this.schema.properties[key];if(this.schema.patternProperties)for(var i in this.schema.patternProperties)if(this.schema.patternProperties.hasOwnProperty(i)){var regex=new RegExp(i);regex.test(key)&&(schema.allOf=schema.allOf||[],schema.allOf.push(this.schema.patternProperties[i]),matched=!0)}return!matched&&this.schema.additionalProperties&&"object"==typeof this.schema.additionalProperties&&(schema=$extend({},this.schema.additionalProperties)),schema},preBuild:function(){this._super(),this.editors={},this.cached_editors={};var self=this;if(this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal",this.schema.properties=this.schema.properties||{},this.minwidth=0,this.maxwidth=0,this.options.table_row)$each(this.schema.properties,function(key,schema){var editor=self.jsoneditor.getEditorClass(schema);self.editors[key]=self.jsoneditor.createEditor(editor,{jsoneditor:self.jsoneditor,schema:schema,path:self.path+"."+key,parent:self,compact:!0,required:!0}),self.editors[key].preBuild();var width=self.editors[key].options.hidden?0:self.editors[key].options.grid_columns||self.editors[key].getNumColumns();self.minwidth+=width,self.maxwidth+=width}),this.no_link_holder=!0;else{if(this.options.table)throw"Not supported yet";this.schema.defaultProperties||(this.jsoneditor.options.display_required_only||this.options.display_required_only?(this.schema.defaultProperties=[],$each(this.schema.properties,function(k,s){self.isRequired({key:k,schema:s})&&self.schema.defaultProperties.push(k)})):self.schema.defaultProperties=Object.keys(self.schema.properties)),self.maxwidth+=1,$each(this.schema.defaultProperties,function(i,key){self.addObjectProperty(key,!0),self.editors[key]&&(self.minwidth=Math.max(self.minwidth,self.editors[key].options.grid_columns||self.editors[key].getNumColumns()),self.maxwidth+=self.editors[key].options.grid_columns||self.editors[key].getNumColumns())})}this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(a,b){var ordera=self.editors[a].schema.propertyOrder,orderb=self.editors[b].schema.propertyOrder;return"number"!=typeof ordera&&(ordera=1e3),"number"!=typeof orderb&&(orderb=1e3),ordera-orderb})},addTab:function(idx){var self=this,isObjOrArray=self.rows[idx].schema&&("object"===self.rows[idx].schema.type||"array"===self.rows[idx].schema.type);self.tabs_holder&&(self.rows[idx].tab_text=document.createElement("span"),self.rows[idx].tab_text.textContent=isObjOrArray?self.rows[idx].getHeaderText():void 0===self.schema.basicCategoryTitle?"Basic":self.schema.basicCategoryTitle,self.rows[idx].tab=self.theme.getTopTab(self.rows[idx].tab_text,this.getValidId(self.rows[idx].tab_text.textContent)),self.rows[idx].tab.addEventListener("click",function(e){self.active_tab=self.rows[idx].tab,self.refreshTabs(),e.preventDefault(),e.stopPropagation()}))},addRow:function(editor,tabHolder,aPane){var rowsLen=this.rows.length,isObjOrArray="object"===editor.schema.type||"array"===editor.schema.type;this.rows[rowsLen]=editor,this.rows[rowsLen].rowPane=aPane,isObjOrArray?(this.addTab(rowsLen),this.theme.addTopTab(tabHolder,this.rows[rowsLen].tab)):void 0===this.basicTab?(this.addTab(rowsLen),this.basicTab=rowsLen,this.basicPane=aPane,this.theme.addTopTab(tabHolder,this.rows[rowsLen].tab)):(this.rows[rowsLen].tab=this.rows[this.basicTab].tab,this.rows[rowsLen].tab_text=this.rows[this.basicTab].tab_text,this.rows[rowsLen].rowPane=this.rows[this.basicTab].rowPane)},refreshTabs:function(refresh_headers){var self=this,basicTabPresent=void 0!==self.basicTab,basicTabRefreshed=!1;$each(this.rows,function(i,row){row.tab&&row.rowPane&&row.rowPane.parentNode&&(basicTabPresent&&row.tab==self.rows[self.basicTab].tab&&basicTabRefreshed||(refresh_headers?row.tab_text.textContent=row.getHeaderText():(basicTabPresent&&row.tab==self.rows[self.basicTab].tab&&(basicTabRefreshed=!0),row.tab===self.active_tab?self.theme.markTabActive(row):self.theme.markTabInactive(row))))})},build:function(){var self=this,isCategoriesFormat="categories"===this.format;if(this.rows=[],this.active_tab=null,this.options.table_row)this.editor_holder=this.container,$each(this.editors,function(key,editor){var holder=self.theme.getTableCell();self.editor_holder.appendChild(holder),editor.setContainer(holder),editor.build(),editor.postBuild(),self.editors[key].options.hidden&&(holder.style.display="none"),self.editors[key].options.input_width&&(holder.style.width=self.editors[key].options.input_width)});else{if(this.options.table)throw"Not supported yet";this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.container.style.position="relative",this.editjson_holder=this.theme.getModal(),this.editjson_textarea=this.theme.getTextareaInput(),this.editjson_textarea.style.height="170px",this.editjson_textarea.style.width="300px",this.editjson_textarea.style.display="block",this.editjson_save=this.getButton("Save","save","Save"),this.editjson_save.classList.add("json-editor-btntype-save"),this.editjson_save.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.saveJSON()}),this.editjson_copy=this.getButton("Copy","copy","Copy"),this.editjson_copy.classList.add("json-editor-btntype-copy"),this.editjson_copy.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.copyJSON()}),this.editjson_cancel=this.getButton("Cancel","cancel","Cancel"),this.editjson_cancel.classList.add("json-editor-btntype-cancel"),this.editjson_cancel.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.hideEditJSON()}),this.editjson_holder.appendChild(this.editjson_textarea),this.editjson_holder.appendChild(this.editjson_save),this.editjson_holder.appendChild(this.editjson_copy),this.editjson_holder.appendChild(this.editjson_cancel),this.addproperty_holder=this.theme.getModal(),this.addproperty_list=document.createElement("div"),this.addproperty_list.style.width="295px",this.addproperty_list.style.maxHeight="160px",this.addproperty_list.style.padding="5px 0",this.addproperty_list.style.overflowY="auto",this.addproperty_list.style.overflowX="hidden",this.addproperty_list.style.paddingLeft="5px",this.addproperty_list.setAttribute("class","property-selector"),this.addproperty_add=this.getButton("add","add","add"),this.addproperty_add.classList.add("json-editor-btntype-add"),this.addproperty_input=this.theme.getFormInputField("text"),this.addproperty_input.setAttribute("placeholder","Property name..."),this.addproperty_input.style.width="220px",this.addproperty_input.style.marginBottom="0",this.addproperty_input.style.display="inline-block",this.addproperty_add.addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),self.addproperty_input.value){if(self.editors[self.addproperty_input.value])return void window.alert("there is already a property with that name");self.addObjectProperty(self.addproperty_input.value),self.editors[self.addproperty_input.value]&&self.editors[self.addproperty_input.value].disable(),self.onChange(!0)}}),this.addproperty_holder.appendChild(this.addproperty_list),this.addproperty_holder.appendChild(this.addproperty_input),this.addproperty_holder.appendChild(this.addproperty_add);var spacer=document.createElement("div");spacer.style.clear="both",this.addproperty_holder.appendChild(spacer),document.addEventListener("click",function(e){!this.addproperty_holder.contains(e.target)&&this.adding_property&&(e.preventDefault(),e.stopPropagation(),this.toggleAddProperty())}.bind(this)),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.editor_holder=this.theme.getIndentedPanel(),this.container.appendChild(this.editor_holder),this.row_container=this.theme.getGridContainer(),isCategoriesFormat?(this.tabs_holder=this.theme.getTopTabHolder(this.getValidId(this.schema.title)),this.tabPanesContainer=this.theme.getTopTabContentHolder(this.tabs_holder),this.editor_holder.appendChild(this.tabs_holder)):(this.tabs_holder=this.theme.getTabHolder(this.getValidId(this.schema.title)),this.tabPanesContainer=this.theme.getTabContentHolder(this.tabs_holder),this.editor_holder.appendChild(this.row_container)),$each(this.editors,function(key,editor){var aPane=self.theme.getTabContent(),holder=self.theme.getGridColumn(),isObjOrArray=!(!editor.schema||"object"!==editor.schema.type&&"array"!==editor.schema.type);if(aPane.isObjOrArray=isObjOrArray,isCategoriesFormat){if(isObjOrArray){var single_row_container=self.theme.getGridContainer();single_row_container.appendChild(holder),aPane.appendChild(single_row_container),self.tabPanesContainer.appendChild(aPane),self.row_container=single_row_container}else void 0===self.row_container_basic&&(self.row_container_basic=self.theme.getGridContainer(),aPane.appendChild(self.row_container_basic),0==self.tabPanesContainer.childElementCount?self.tabPanesContainer.appendChild(aPane):self.tabPanesContainer.insertBefore(aPane,self.tabPanesContainer.childNodes[1])),self.row_container_basic.appendChild(holder);self.addRow(editor,self.tabs_holder,aPane),aPane.id=self.getValidId(editor.schema.title)}else self.row_container.appendChild(holder);editor.setContainer(holder),editor.build(),editor.postBuild()}),this.rows[0]&&$trigger(this.rows[0].tab,"click"),this.title_controls=this.theme.getHeaderButtonHolder(),this.editjson_controls=this.theme.getHeaderButtonHolder(),this.addproperty_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.title.appendChild(this.editjson_controls),this.title.appendChild(this.addproperty_controls),this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.toggle_button.classList.add("json-editor-btntype-toggle"),this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.collapsed?(self.editor_holder.style.display="",self.collapsed=!1,self.setButtonText(self.toggle_button,"","collapse",self.translate("button_collapse"))):(self.editor_holder.style.display="none",self.collapsed=!0,self.setButtonText(self.toggle_button,"","expand",self.translate("button_expand")))}),this.options.collapsed&&$trigger(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.editjson_button=this.getButton("JSON","edit","Edit JSON"),this.editjson_button.classList.add("json-editor-btntype-editjson"),this.editjson_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.toggleEditJSON()}),this.editjson_controls.appendChild(this.editjson_button),this.editjson_controls.appendChild(this.editjson_holder),this.schema.options&&void 0!==this.schema.options.disable_edit_json?this.schema.options.disable_edit_json&&(this.editjson_button.style.display="none"):this.jsoneditor.options.disable_edit_json&&(this.editjson_button.style.display="none"),this.addproperty_button=this.getButton("Properties","edit","Object Properties"),this.addproperty_button.classList.add("json-editor-btntype-properties"),this.addproperty_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.toggleAddProperty()}),this.addproperty_controls.appendChild(this.addproperty_button),this.addproperty_controls.appendChild(this.addproperty_holder),this.refreshAddProperties()}this.options.table_row?(this.editor_holder=this.container,$each(this.property_order,function(i,key){self.editor_holder.appendChild(self.editors[key].container)})):(this.layoutEditors(),this.layoutEditors())},showEditJSON:function(){this.editjson_holder&&(this.hideAddProperty(),this.editjson_holder.style.left=this.editjson_button.offsetLeft+"px",this.editjson_holder.style.top=this.editjson_button.offsetTop+this.editjson_button.offsetHeight+"px",this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2),this.disable(),this.editjson_holder.style.display="",this.editjson_button.disabled=!1,this.editing_json=!0)},hideEditJSON:function(){this.editjson_holder&&this.editing_json&&(this.editjson_holder.style.display="none",this.enable(),this.editing_json=!1)},copyJSON:function(){if(this.editjson_holder){var ta=document.createElement("textarea");ta.value=this.editjson_textarea.value,ta.setAttribute("readonly",""),ta.style.position="absolute",ta.style.left="-9999px",document.body.appendChild(ta),ta.select(),document.execCommand("copy"),document.body.removeChild(ta)}},saveJSON:function(){if(this.editjson_holder)try{var json=JSON.parse(this.editjson_textarea.value);this.setValue(json),this.hideEditJSON(),this.onChange(!0)}catch(e){throw window.alert("invalid JSON"),e}},toggleEditJSON:function(){this.editing_json?this.hideEditJSON():this.showEditJSON()},insertPropertyControlUsingPropertyOrder:function(property,control,container){var propertyOrder;this.schema.properties[property]&&(propertyOrder=this.schema.properties[property].propertyOrder),"number"!=typeof propertyOrder&&(propertyOrder=1e3),control.propertyOrder=propertyOrder;for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(control.propertyOrder<child.propertyOrder){this.addproperty_list.insertBefore(control,child),control=null;break}}control&&this.addproperty_list.appendChild(control)},addPropertyCheckbox:function(key){var checkbox,label,labelText,control,self=this;return(checkbox=self.theme.getCheckbox()).style.width="auto",labelText=this.schema.properties[key]&&this.schema.properties[key].title?this.schema.properties[key].title:key,label=self.theme.getCheckboxLabel(labelText),(control=self.theme.getFormControl(label,checkbox)).style.paddingBottom=control.style.marginBottom=control.style.paddingTop=control.style.marginTop=0,control.style.height="auto",this.insertPropertyControlUsingPropertyOrder(key,control,this.addproperty_list),checkbox.checked=key in this.editors,checkbox.addEventListener("change",function(){checkbox.checked?self.addObjectProperty(key):self.removeObjectProperty(key),self.onChange(!0)}),self.addproperty_checkboxes[key]=checkbox,checkbox},showAddProperty:function(){this.addproperty_holder&&(this.hideEditJSON(),this.addproperty_holder.style.left=this.addproperty_button.offsetLeft+"px",this.addproperty_holder.style.top=this.addproperty_button.offsetTop+this.addproperty_button.offsetHeight+"px",this.disable(),this.adding_property=!0,this.addproperty_button.disabled=!1,this.addproperty_holder.style.display="",this.refreshAddProperties())},hideAddProperty:function(){this.addproperty_holder&&this.adding_property&&(this.addproperty_holder.style.display="none",this.enable(),this.adding_property=!1)},toggleAddProperty:function(){this.adding_property?this.hideAddProperty():this.showAddProperty()},removeObjectProperty:function(property){this.editors[property]&&(this.editors[property].unregister(),delete this.editors[property],this.refreshValue(),this.layoutEditors())},addObjectProperty:function(name,prebuild_only){if(!this.editors[name]){if(this.cached_editors[name]){if(this.editors[name]=this.cached_editors[name],prebuild_only)return;this.editors[name].register()}else{if(!(this.canHaveAdditionalProperties()||this.schema.properties&&this.schema.properties[name]))return;var schema=this.getPropertySchema(name);"number"!=typeof schema.propertyOrder&&(schema.propertyOrder=Object.keys(this.editors).length+1e3);var editor=this.jsoneditor.getEditorClass(schema);if(this.editors[name]=this.jsoneditor.createEditor(editor,{jsoneditor:this.jsoneditor,schema:schema,path:this.path+"."+name,parent:this}),this.editors[name].preBuild(),!prebuild_only){var holder=this.theme.getChildEditorHolder();this.editor_holder.appendChild(holder),this.editors[name].setContainer(holder),this.editors[name].build(),this.editors[name].postBuild()}this.cached_editors[name]=this.editors[name]}prebuild_only||(this.refreshValue(),this.layoutEditors())}},onChildEditorChange:function(editor){this.refreshValue(),this._super(editor)},canHaveAdditionalProperties:function(){return"boolean"==typeof this.schema.additionalProperties?this.schema.additionalProperties:!this.jsoneditor.options.no_additional_properties},destroy:function(){$each(this.cached_editors,function(i,el){el.destroy()}),this.editor_holder&&(this.editor_holder.innerHTML=""),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder),this.editors=null,this.cached_editors=null,this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.editor_holder=null,this._super()},getValue:function(){if(!this.dependenciesFulfilled)return undefined;var result=this._super();if(this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties)for(var i in result)result.hasOwnProperty(i)&&(void 0===result[i]||""===result[i]||result[i]===Object(result[i])&&0==Object.keys(result[i]).length&&result[i].constructor==Object)&&delete result[i];return result},refreshValue:function(){this.value={};for(var i in this.editors)this.editors.hasOwnProperty(i)&&(this.value[i]=this.editors[i].getValue());this.adding_property&&this.refreshAddProperties()},refreshAddProperties:function(){if(this.options.disable_properties||!1!==this.options.disable_properties&&this.jsoneditor.options.disable_properties)this.addproperty_controls.style.display="none";else{var i,can_add=!1,num_props=0,show_modal=!1;for(i in this.editors)this.editors.hasOwnProperty(i)&&num_props++;for(i in can_add=this.canHaveAdditionalProperties()&&!(void 0!==this.schema.maxProperties&&num_props>=this.schema.maxProperties),this.addproperty_checkboxes&&(this.addproperty_list.innerHTML=""),this.addproperty_checkboxes={},this.cached_editors)this.cached_editors.hasOwnProperty(i)&&(this.addPropertyCheckbox(i),this.isRequired(this.cached_editors[i])&&i in this.editors&&(this.addproperty_checkboxes[i].disabled=!0),void 0!==this.schema.minProperties&&num_props<=this.schema.minProperties?(this.addproperty_checkboxes[i].disabled=this.addproperty_checkboxes[i].checked,this.addproperty_checkboxes[i].checked||(show_modal=!0)):i in this.editors?(show_modal=!0,!0):can_add||this.schema.properties.hasOwnProperty(i)?(this.addproperty_checkboxes[i].disabled=!1,show_modal=!0):this.addproperty_checkboxes[i].disabled=!0);for(i in this.canHaveAdditionalProperties()&&(show_modal=!0),this.schema.properties)this.schema.properties.hasOwnProperty(i)&&(this.cached_editors[i]||(show_modal=!0,this.addPropertyCheckbox(i)));show_modal?this.canHaveAdditionalProperties()?this.addproperty_add.disabled=!can_add:(this.addproperty_add.style.display="none",this.addproperty_input.style.display="none"):(this.hideAddProperty(),this.addproperty_controls.style.display="none")}},isRequired:function(editor){return"boolean"==typeof editor.schema.required?editor.schema.required:Array.isArray(this.schema.required)?this.schema.required.indexOf(editor.key)>-1:!!this.jsoneditor.options.required_by_default},setValue:function(value,initial){var self=this;("object"!=typeof(value=value||{})||Array.isArray(value))&&(value={}),$each(this.cached_editors,function(i,editor){void 0!==value[i]?(self.addObjectProperty(i),editor.setValue(value[i],initial)):initial||self.isRequired(editor)?editor.setValue(editor.getDefault(),initial):self.removeObjectProperty(i)}),$each(value,function(i,val){self.cached_editors[i]||(self.addObjectProperty(i),self.editors[i]&&self.editors[i].setValue(val,initial))}),this.refreshValue(),this.layoutEditors(),this.onChange()},showValidationErrors:function(errors){var self=this,my_errors=[],other_errors=[];if($each(errors,function(i,error){error.path===self.path?my_errors.push(error):other_errors.push(error)}),this.error_holder)if(my_errors.length){this.error_holder.innerHTML="",this.error_holder.style.display="",$each(my_errors,function(i,error){self.error_holder.appendChild(self.theme.getErrorMessage(error.message))})}else this.error_holder.style.display="none";this.options.table_row&&(my_errors.length?this.theme.addTableRowError(this.container):this.theme.removeTableRowError(this.container)),$each(this.editors,function(i,editor){editor.showValidationErrors(other_errors)})}}),JSONEditor.defaults.editors.array=JSONEditor.AbstractEditor.extend({askConfirmation:function(){return!0!==this.jsoneditor.options.prompt_before_delete||!1!==confirm("Are you sure you want to remove this node?")},getDefault:function(){return this.schema.default||[]},register:function(){if(this._super(),this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i].register()},unregister:function(){if(this._super(),this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i].unregister()},getNumColumns:function(){var info=this.getItemInfo(0);return this.tabs_holder&&"tabs-top"!==this.schema.format?Math.max(Math.min(12,info.width+2),4):info.width},enable:function(){if(!this.always_disabled){if(this.add_row_button&&(this.add_row_button.disabled=!1),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!1),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!1),this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i].enable(),this.rows[i].moveup_button&&(this.rows[i].moveup_button.disabled=!1),this.rows[i].movedown_button&&(this.rows[i].movedown_button.disabled=!1),this.rows[i].delete_button&&(this.rows[i].delete_button.disabled=!1);this._super()}},disable:function(always_disabled){if(always_disabled&&(this.always_disabled=!0),this.add_row_button&&(this.add_row_button.disabled=!0),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!0),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!0),this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i].disable(always_disabled),this.rows[i].moveup_button&&(this.rows[i].moveup_button.disabled=!0),this.rows[i].movedown_button&&(this.rows[i].movedown_button.disabled=!0),this.rows[i].delete_button&&(this.rows[i].delete_button.disabled=!0);this._super()},preBuild:function(){this._super(),this.rows=[],this.row_cache=[],this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete,this.hide_delete_all_rows_buttons=this.hide_delete_buttons||this.options.disable_array_delete_all_rows||this.jsoneditor.options.disable_array_delete_all_rows,this.hide_delete_last_row_buttons=this.hide_delete_buttons||this.options.disable_array_delete_last_row||this.jsoneditor.options.disable_array_delete_last_row,this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder,this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add,this.show_copy_button=this.options.enable_array_copy||this.jsoneditor.options.enable_array_copy,this.array_controls_top=this.options.array_controls_top||this.jsoneditor.options.array_controls_top},build:function(){this.options.compact?(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.title_controls=this.theme.getHeaderButtonHolder(),this.panel.appendChild(this.title_controls),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),"tabs-top"===this.schema.format?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTopTabHolder(this.getValidId(this.getItemTitle())),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTopTabContentHolder(this.tabs_holder),this.active_tab=null):"tabs"===this.schema.format?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTabHolder(this.getValidId(this.getItemTitle())),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTabContentHolder(this.tabs_holder),this.active_tab=null):(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.array_controls_top?this.title.appendChild(this.controls):this.panel.appendChild(this.controls))),this.addControls()},onChildEditorChange:function(editor){this.refreshValue(),this.refreshTabs(!0),this._super(editor)},getItemTitle:function(){if(!this.item_title)if(this.schema.items&&!Array.isArray(this.schema.items)){var tmp=this.jsoneditor.expandRefs(this.schema.items);this.item_title=tmp.title||"item"}else this.item_title="item";return this.item_title},getItemSchema:function(i){return Array.isArray(this.schema.items)?i>=this.schema.items.length?!0===this.schema.additionalItems?{}:this.schema.additionalItems?$extend({},this.schema.additionalItems):void 0:$extend({},this.schema.items[i]):this.schema.items?$extend({},this.schema.items):{}},getItemInfo:function(i){var schema=this.getItemSchema(i);this.item_info=this.item_info||{};var stringified=JSON.stringify(schema);return void 0!==this.item_info[stringified]?this.item_info[stringified]:(schema=this.jsoneditor.expandRefs(schema),this.item_info[stringified]={title:schema.title||"item",default:schema.default,width:12,child_editors:schema.properties||schema.items},this.item_info[stringified])},getElementEditor:function(i){var item_info=this.getItemInfo(i),schema=this.getItemSchema(i);(schema=this.jsoneditor.expandRefs(schema)).title=item_info.title+" "+(i+1);var holder,editor=this.jsoneditor.getEditorClass(schema);this.tabs_holder?(holder="tabs-top"===this.schema.format?this.theme.getTopTabContent():this.theme.getTabContent()).id=this.path+"."+i:holder=item_info.child_editors?this.theme.getChildEditorHolder():this.theme.getIndentedPanel(),this.row_holder.appendChild(holder);var ret=this.jsoneditor.createEditor(editor,{jsoneditor:this.jsoneditor,schema:schema,container:holder,path:this.path+"."+i,parent:this,required:!0});return ret.preBuild(),ret.build(),ret.postBuild(),ret.title_controls||(ret.array_controls=this.theme.getButtonHolder(),holder.appendChild(ret.array_controls)),ret},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.controls&&this.controls.parentNode&&this.controls.parentNode.removeChild(this.controls),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null,this._super()},empty:function(hard){if(this.rows){var self=this;$each(this.rows,function(i,row){hard&&(row.tab&&row.tab.parentNode&&row.tab.parentNode.removeChild(row.tab),self.destroyRow(row,!0),self.row_cache[i]=null),self.rows[i]=null}),self.rows=[],hard&&(self.row_cache=[])}},destroyRow:function(row,hard){var holder=row.container;hard?(row.destroy(),holder.parentNode&&holder.parentNode.removeChild(holder),row.tab&&row.tab.parentNode&&row.tab.parentNode.removeChild(row.tab)):(row.tab&&(row.tab.style.display="none"),holder.style.display="none",row.unregister())},getMax:function(){return Array.isArray(this.schema.items)&&!1===this.schema.additionalItems?Math.min(this.schema.items.length,this.schema.maxItems||1/0):this.schema.maxItems||1/0},refreshTabs:function(refresh_headers){var self=this;$each(this.rows,function(i,row){row.tab&&(refresh_headers?row.tab_text.textContent=row.getHeaderText():row.tab===self.active_tab?self.theme.markTabActive(row):self.theme.markTabInactive(row))})},setValue:function(value,initial){value=value||[],Array.isArray(value)||(value=[value]);var serialized=JSON.stringify(value);if(serialized!==this.serialized){if(this.schema.minItems)for(;value.length<this.schema.minItems;)value.push(this.getItemInfo(value.length).default);this.getMax()&&value.length>this.getMax()&&(value=value.slice(0,this.getMax()));var self=this;$each(value,function(i,val){self.rows[i]?self.rows[i].setValue(val,initial):self.row_cache[i]?(self.rows[i]=self.row_cache[i],self.rows[i].setValue(val,initial),self.rows[i].container.style.display="",self.rows[i].tab&&(self.rows[i].tab.style.display=""),self.rows[i].register()):self.addRow(val,initial)});for(var j=value.length;j<self.rows.length;j++)self.destroyRow(self.rows[j]),self.rows[j]=null;self.rows=self.rows.slice(0,value.length);var new_active_tab=null;$each(self.rows,function(i,row){if(row.tab===self.active_tab)return new_active_tab=row.tab,!1}),!new_active_tab&&self.rows.length&&(new_active_tab=self.rows[0].tab),self.active_tab=new_active_tab,self.refreshValue(initial),self.refreshTabs(!0),self.refreshTabs(),self.onChange()}},refreshValue:function(force){var self=this,oldi=this.value?this.value.length:0;if(this.value=[],$each(this.rows,function(i,editor){self.value[i]=editor.getValue()}),oldi!==this.value.length||force){var minItems=this.schema.minItems&&this.schema.minItems>=this.rows.length;$each(this.rows,function(i,editor){editor.movedown_button&&(i===self.rows.length-1?editor.movedown_button.style.display="none":editor.movedown_button.style.display=""),editor.delete_button&&(editor.delete_button.style.display=minItems?"none":""),self.value[i]=editor.getValue()});var controls_needed=!1;this.value.length?1===this.value.length?(this.remove_all_rows_button.style.display="none",minItems||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",controls_needed=!0)):(minItems||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",controls_needed=!0),minItems||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",controls_needed=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none"),this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",controls_needed=!0),!this.collapsed&&controls_needed?this.controls.style.display="inline-block":this.controls.style.display="none"}},addRow:function(value,initial){var self=this,i=this.rows.length;self.rows[i]=this.getElementEditor(i),self.row_cache[i]=self.rows[i],self.tabs_holder&&(self.rows[i].tab_text=document.createElement("span"),self.rows[i].tab_text.textContent=self.rows[i].getHeaderText(),"tabs-top"===self.schema.format?(self.rows[i].tab=self.theme.getTopTab(self.rows[i].tab_text,this.getValidId(self.rows[i].path)),self.theme.addTopTab(self.tabs_holder,self.rows[i].tab)):(self.rows[i].tab=self.theme.getTab(self.rows[i].tab_text,this.getValidId(self.rows[i].path)),self.theme.addTab(self.tabs_holder,self.rows[i].tab)),self.rows[i].tab.addEventListener("click",function(e){self.active_tab=self.rows[i].tab,self.refreshTabs(),e.preventDefault(),e.stopPropagation()}));var controls_holder=self.rows[i].title_controls||self.rows[i].array_controls;self.hide_delete_buttons||(self.rows[i].delete_button=this.getButton(self.getItemTitle(),"delete",this.translate("button_delete_row_title",[self.getItemTitle()])),self.rows[i].delete_button.classList.add("delete","json-editor-btntype-delete"),self.rows[i].delete_button.setAttribute("data-i",i),self.rows[i].delete_button.addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),!self.askConfirmation())return!1;var i=1*this.getAttribute("data-i"),value=self.getValue(),newval=[],new_active_tab=null;$each(value,function(j,row){j!==i&&newval.push(row)}),self.empty(!0),self.setValue(newval),self.rows[i]?new_active_tab=self.rows[i].tab:self.rows[i-1]&&(new_active_tab=self.rows[i-1].tab),new_active_tab&&(self.active_tab=new_active_tab,self.refreshTabs()),self.onChange(!0),self.jsoneditor.trigger("deleteRow")}),controls_holder&&controls_holder.appendChild(self.rows[i].delete_button)),self.show_copy_button&&(self.rows[i].copy_button=this.getButton(self.getItemTitle(),"copy","Copy "+self.getItemTitle()),self.rows[i].copy_button.classList.add("copy","json-editor-btntype-copy"),self.rows[i].copy_button.setAttribute("data-i",i),self.rows[i].copy_button.addEventListener("click",function(e){var value=self.getValue();e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i");$each(value,function(j,row){j===i&&value.push(row)}),self.setValue(value),self.refreshValue(!0),self.onChange(!0)}),controls_holder.appendChild(self.rows[i].copy_button)),i&&!self.hide_move_buttons&&(self.rows[i].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),self.rows[i].moveup_button.classList.add("moveup","json-editor-btntype-move"),self.rows[i].moveup_button.setAttribute("data-i",i),self.rows[i].moveup_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i");if(!(i<=0)){var rows=self.getValue(),tmp=rows[i-1];rows[i-1]=rows[i],rows[i]=tmp,self.setValue(rows),self.active_tab=self.rows[i-1].tab,self.refreshTabs(),self.onChange(!0),self.jsoneditor.trigger("moveRow")}}),controls_holder&&controls_holder.appendChild(self.rows[i].moveup_button)),self.hide_move_buttons||(self.rows[i].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),self.rows[i].movedown_button.classList.add("movedown","json-editor-btntype-move"),self.rows[i].movedown_button.setAttribute("data-i",i),self.rows[i].movedown_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i"),rows=self.getValue();if(!(i>=rows.length-1)){var tmp=rows[i+1];rows[i+1]=rows[i],rows[i]=tmp,self.setValue(rows),self.active_tab=self.rows[i+1].tab,self.refreshTabs(),self.onChange(!0),self.jsoneditor.trigger("moveRow")}}),controls_holder&&controls_holder.appendChild(self.rows[i].movedown_button)),value&&self.rows[i].setValue(value,initial),self.refreshTabs()},addControls:function(){var self=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.toggle_button.classList.add("json-editor-btntype-toggle"),this.title_controls.appendChild(this.toggle_button);var row_holder_display=self.row_holder.style.display,controls_display=self.controls.style.display;this.toggle_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.collapsed?(self.collapsed=!1,self.panel&&(self.panel.style.display=""),self.row_holder.style.display=row_holder_display,self.tabs_holder&&(self.tabs_holder.style.display=""),self.controls.style.display=controls_display,self.setButtonText(this,"","collapse",self.translate("button_collapse"))):(self.collapsed=!0,self.row_holder.style.display="none",self.tabs_holder&&(self.tabs_holder.style.display="none"),self.controls.style.display="none",self.panel&&(self.panel.style.display="none"),self.setButtonText(this,"","expand",self.translate("button_expand")))}),this.options.collapsed&&$trigger(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()])),this.add_row_button.classList.add("json-editor-btntype-add"),this.add_row_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=self.rows.length;self.row_cache[i]?(self.rows[i]=self.row_cache[i],self.rows[i].setValue(self.rows[i].getDefault(),!0),self.rows[i].container.style.display="",self.rows[i].tab&&(self.rows[i].tab.style.display=""),self.rows[i].register()):self.addRow(),self.active_tab=self.rows[i].tab,self.refreshTabs(),self.refreshValue(),self.onChange(!0),self.jsoneditor.trigger("addRow")}),self.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()])),this.delete_last_row_button.classList.add("json-editor-btntype-deletelast"),this.delete_last_row_button.addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),!self.askConfirmation())return!1;var rows=self.getValue(),new_active_tab=null;rows.pop(),self.empty(!0),self.setValue(rows),self.rows[self.rows.length-1]&&(new_active_tab=self.rows[self.rows.length-1].tab),new_active_tab&&(self.active_tab=new_active_tab,self.refreshTabs()),self.onChange(!0),self.jsoneditor.trigger("deleteRow")}),self.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title")),this.remove_all_rows_button.classList.add("json-editor-btntype-deleteall"),this.remove_all_rows_button.addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),!self.askConfirmation())return!1;self.empty(!0),self.setValue([]),self.onChange(!0),self.jsoneditor.trigger("deleteAllRows")}),self.controls.appendChild(this.remove_all_rows_button),self.tabs&&(this.add_row_button.style.width="100%",this.add_row_button.style.textAlign="left",this.add_row_button.style.marginBottom="3px",this.delete_last_row_button.style.width="100%",this.delete_last_row_button.style.textAlign="left",this.delete_last_row_button.style.marginBottom="3px",this.remove_all_rows_button.style.width="100%",this.remove_all_rows_button.style.textAlign="left",this.remove_all_rows_button.style.marginBottom="3px")},showValidationErrors:function(errors){var self=this,my_errors=[],other_errors=[];if($each(errors,function(i,error){error.path===self.path?my_errors.push(error):other_errors.push(error)}),this.error_holder)if(my_errors.length){this.error_holder.innerHTML="",this.error_holder.style.display="",$each(my_errors,function(i,error){self.error_holder.appendChild(self.theme.getErrorMessage(error.message))})}else this.error_holder.style.display="none";$each(this.rows,function(i,row){row.showValidationErrors(other_errors)})}}),JSONEditor.defaults.editors.table=JSONEditor.defaults.editors.array.extend({register:function(){if(this._super(),this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i].register()},unregister:function(){if(this._super(),this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.width),3)},preBuild:function(){var item_schema=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=item_schema.title||"row",this.item_default=item_schema.default||null,this.item_has_child_editors=item_schema.properties||item_schema.items,this.width=12,this._super()},build:function(){this.table=this.theme.getTable(),this.container.appendChild(this.table),this.thead=this.theme.getTableHead(),this.table.appendChild(this.thead),this.header_row=this.theme.getTableRow(),this.thead.appendChild(this.header_row),this.row_holder=this.theme.getTableBody(),this.table.appendChild(this.row_holder);var tmp=this.getElementEditor(0,!0);if(this.item_default=tmp.getDefault(),this.width=tmp.getNumColumns()+2,this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.title=this.theme.getHeader(this.getTitle()),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.error_holder=document.createElement("div"),this.panel.appendChild(this.error_holder)),this.panel.appendChild(this.table),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.item_has_child_editors)for(var ce=tmp.getChildEditors(),order=tmp.property_order||Object.keys(ce),i=0;i<order.length;i++){var th=this.theme.getTableHeaderCell(ce[order[i]].getTitle());ce[order[i]].options.hidden&&(th.style.display="none"),this.header_row.appendChild(th)}else this.header_row.appendChild(this.theme.getTableHeaderCell(this.item_title));tmp.destroy(),this.row_holder.innerHTML="",this.controls_header_cell=this.theme.getTableHeaderCell(" "),this.header_row.appendChild(this.controls_header_cell),this.addControls()},onChildEditorChange:function(editor){this.refreshValue(),this._super()},getItemDefault:function(){return $extend({},{default:this.item_default}).default},getItemTitle:function(){return this.item_title},getElementEditor:function(i,ignore){var schema_copy=$extend({},this.schema.items),editor=this.jsoneditor.getEditorClass(schema_copy,this.jsoneditor),row=this.row_holder.appendChild(this.theme.getTableRow()),holder=row;this.item_has_child_editors||(holder=this.theme.getTableCell(),row.appendChild(holder));var ret=this.jsoneditor.createEditor(editor,{jsoneditor:this.jsoneditor,schema:schema_copy,container:holder,path:this.path+"."+i,parent:this,compact:!0,table_row:!0});return ret.preBuild(),ignore||(ret.build(),ret.postBuild(),ret.controls_cell=row.appendChild(this.theme.getTableCell()),ret.row=row,ret.table_controls=this.theme.getButtonHolder(),ret.controls_cell.appendChild(ret.table_controls),ret.table_controls.style.margin=0,ret.table_controls.style.padding=0),ret},destroy:function(){this.innerHTML="",this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.table&&this.table.parentNode&&this.table.parentNode.removeChild(this.table),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null,this._super()},setValue:function(value,initial){if(value=value||[],this.schema.minItems)for(;value.length<this.schema.minItems;)value.push(this.getItemDefault());this.schema.maxItems&&value.length>this.schema.maxItems&&(value=value.slice(0,this.schema.maxItems));var serialized=JSON.stringify(value);if(serialized!==this.serialized){var numrows_changed=!1,self=this;$each(value,function(i,val){self.rows[i]?self.rows[i].setValue(val):(self.addRow(val),numrows_changed=!0)});for(var j=value.length;j<self.rows.length;j++){var holder=self.rows[j].container;self.item_has_child_editors||self.rows[j].row.parentNode.removeChild(self.rows[j].row),self.rows[j].destroy(),holder.parentNode&&holder.parentNode.removeChild(holder),self.rows[j]=null,numrows_changed=!0}self.rows=self.rows.slice(0,value.length),self.refreshValue(),(numrows_changed||initial)&&self.refreshRowButtons(),self.onChange()}},refreshRowButtons:function(){var self=this,minItems=this.schema.minItems&&this.schema.minItems>=this.rows.length,need_row_buttons=!1;$each(this.rows,function(i,editor){editor.movedown_button&&(i===self.rows.length-1?editor.movedown_button.style.display="none":(need_row_buttons=!0,editor.movedown_button.style.display="")),editor.delete_button&&(minItems?editor.delete_button.style.display="none":(need_row_buttons=!0,editor.delete_button.style.display="")),editor.moveup_button&&(need_row_buttons=!0)}),$each(this.rows,function(i,editor){editor.controls_cell.style.display=need_row_buttons?"":"none"}),this.controls_header_cell.style.display=need_row_buttons?"":"none";var controls_needed=!1;this.value.length?1===this.value.length?(this.table.style.display="",this.remove_all_rows_button.style.display="none",minItems||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",controls_needed=!0)):(this.table.style.display="",minItems||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",controls_needed=!0),minItems||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",controls_needed=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none",this.table.style.display="none"),this.schema.maxItems&&this.schema.maxItems<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",controls_needed=!0),this.controls.style.display=controls_needed?"":"none"},refreshValue:function(){var self=this;this.value=[],$each(this.rows,function(i,editor){self.value[i]=editor.getValue()}),this.serialized=JSON.stringify(this.value)},addRow:function(value){var self=this,i=this.rows.length;self.rows[i]=this.getElementEditor(i);var controls_holder=self.rows[i].table_controls;this.hide_delete_buttons||(self.rows[i].delete_button=this.getButton("","delete",this.translate("button_delete_row_title_short")),self.rows[i].delete_button.classList.add("delete","json-editor-btntype-delete"),self.rows[i].delete_button.setAttribute("data-i",i),self.rows[i].delete_button.addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),!self.askConfirmation())return!1;var i=1*this.getAttribute("data-i"),value=self.getValue(),newval=[];$each(value,function(j,row){j!==i&&newval.push(row)}),self.setValue(newval),self.onChange(!0)}),controls_holder.appendChild(self.rows[i].delete_button)),i&&!this.hide_move_buttons&&(self.rows[i].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),self.rows[i].moveup_button.classList.add("moveup","json-editor-btntype-move"),self.rows[i].moveup_button.setAttribute("data-i",i),self.rows[i].moveup_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i");if(!(i<=0)){var rows=self.getValue(),tmp=rows[i-1];rows[i-1]=rows[i],rows[i]=tmp,self.setValue(rows),self.onChange(!0)}}),controls_holder.appendChild(self.rows[i].moveup_button)),this.hide_move_buttons||(self.rows[i].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),self.rows[i].movedown_button.classList.add("movedown","json-editor-btntype-move"),self.rows[i].movedown_button.setAttribute("data-i",i),self.rows[i].movedown_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i"),rows=self.getValue();if(!(i>=rows.length-1)){var tmp=rows[i+1];rows[i+1]=rows[i],rows[i]=tmp,self.setValue(rows),self.onChange(!0)}}),controls_holder.appendChild(self.rows[i].movedown_button)),value&&self.rows[i].setValue(value)},addControls:function(){var self=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.toggle_button.classList.add("json-editor-btntype-toggle"),this.title_controls&&(this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.collapsed?(self.collapsed=!1,self.panel.style.display="",self.setButtonText(this,"","collapse",self.translate("button_collapse"))):(self.collapsed=!0,self.panel.style.display="none",self.setButtonText(this,"","expand",self.translate("button_expand")))}),this.options.collapsed&&$trigger(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none")),this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()])),this.add_row_button.classList.add("json-editor-btntype-add"),this.add_row_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.addRow(),self.refreshValue(),self.refreshRowButtons(),self.onChange(!0)}),self.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()])),this.delete_last_row_button.classList.add("json-editor-btntype-deletelast"),this.delete_last_row_button.addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),!self.askConfirmation())return!1;var rows=self.getValue();rows.pop(),self.setValue(rows),self.onChange(!0)}),self.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title")),this.remove_all_rows_button.classList.add("json-editor-btntype-deleteall"),this.remove_all_rows_button.addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),!self.askConfirmation())return!1;self.setValue([]),self.onChange(!0)}),self.controls.appendChild(this.remove_all_rows_button)}}),JSONEditor.defaults.editors.multiple=JSONEditor.AbstractEditor.extend({register:function(){if(this.editors){for(var i=0;i<this.editors.length;i++)this.editors[i]&&this.editors[i].unregister();this.editors[this.type]&&this.editors[this.type].register()}this._super()},unregister:function(){if(this._super(),this.editors)for(var i=0;i<this.editors.length;i++)this.editors[i]&&this.editors[i].unregister()},getNumColumns:function(){return this.editors[this.type]?Math.max(this.editors[this.type].getNumColumns(),4):4},enable:function(){if(!this.always_disabled){if(this.editors)for(var i=0;i<this.editors.length;i++)this.editors[i]&&this.editors[i].enable();this.switcher.disabled=!1,this._super()}},disable:function(always_disabled){if(always_disabled&&(this.always_disabled=!0),this.editors)for(var i=0;i<this.editors.length;i++)this.editors[i]&&this.editors[i].disable(always_disabled);this.switcher.disabled=!0,this._super()},switchEditor:function(i){var self=this;this.editors[i]||this.buildChildEditor(i);var current_value=self.getValue();self.type=i,self.register(),$each(self.editors,function(type,editor){editor&&(self.type===type?(self.keep_values&&editor.setValue(current_value,!0),editor.container.style.display=""):editor.container.style.display="none")}),self.refreshValue(),self.refreshHeaderText()},buildChildEditor:function(i){var schema,self=this,type=this.types[i],holder=self.theme.getChildEditorHolder();self.editor_holder.appendChild(holder),"string"==typeof type?(schema=$extend({},self.schema)).type=type:(schema=$extend({},self.schema,type),schema=self.jsoneditor.expandRefs(schema),type&&type.required&&Array.isArray(type.required)&&self.schema.required&&Array.isArray(self.schema.required)&&(schema.required=self.schema.required.concat(type.required)));var editor=self.jsoneditor.getEditorClass(schema);self.editors[i]=self.jsoneditor.createEditor(editor,{jsoneditor:self.jsoneditor,schema:schema,container:holder,path:self.path,parent:self,required:!0}),self.editors[i].preBuild(),self.editors[i].build(),self.editors[i].postBuild(),self.editors[i].header&&(self.editors[i].header.style.display="none"),self.editors[i].option=self.switcher_options[i],holder.addEventListener("change_header_text",function(){self.refreshHeaderText()}),i!==self.type&&(holder.style.display="none")},preBuild:function(){if(this.types=[],this.type=0,this.editors=[],this.validators=[],this.keep_values=!0,void 0!==this.jsoneditor.options.keep_oneof_values&&(this.keep_values=this.jsoneditor.options.keep_oneof_values),void 0!==this.options.keep_oneof_values&&(this.keep_values=this.options.keep_oneof_values),this.schema.oneOf)this.oneOf=!0,this.types=this.schema.oneOf,delete this.schema.oneOf;else if(this.schema.anyOf)this.anyOf=!0,this.types=this.schema.anyOf,delete this.schema.anyOf;else{if(this.schema.type&&"any"!==this.schema.type)Array.isArray(this.schema.type)?this.types=this.schema.type:this.types=[this.schema.type];else if(this.types=["string","number","integer","boolean","object","array","null"],this.schema.disallow){var disallow=this.schema.disallow;"object"==typeof disallow&&Array.isArray(disallow)||(disallow=[disallow]);var allowed_types=[];$each(this.types,function(i,type){-1===disallow.indexOf(type)&&allowed_types.push(type)}),this.types=allowed_types}delete this.schema.type}this.display_text=this.getDisplayText(this.types)},build:function(){var self=this,container=this.container;this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.header),this.switcher=this.theme.getSwitcher(this.display_text),container.appendChild(this.switcher),this.switcher.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),self.switchEditor(self.display_text.indexOf(this.value)),self.onChange(!0)}),this.editor_holder=document.createElement("div"),container.appendChild(this.editor_holder);var validator_options={};self.jsoneditor.options.custom_validators&&(validator_options.custom_validators=self.jsoneditor.options.custom_validators),this.switcher_options=this.theme.getSwitcherOptions(this.switcher),$each(this.types,function(i,type){var schema;self.editors[i]=!1,"string"==typeof type?(schema=$extend({},self.schema)).type=type:(schema=$extend({},self.schema,type),type.required&&Array.isArray(type.required)&&self.schema.required&&Array.isArray(self.schema.required)&&(schema.required=self.schema.required.concat(type.required))),self.validators[i]=new JSONEditor.Validator(self.jsoneditor,schema,validator_options)}),this.switchEditor(0)},onChildEditorChange:function(editor){this.editors[this.type]&&(this.refreshValue(),this.refreshHeaderText()),this._super()},refreshHeaderText:function(){var display_text=this.getDisplayText(this.types);$each(this.switcher_options,function(i,option){option.textContent=display_text[i]})},refreshValue:function(){this.value=this.editors[this.type].getValue()},setValue:function(val,initial){var self=this,prev_type=this.type;$each(this.validators,function(i,validator){if(!validator.validate(val).length)return self.type=i,self.switcher.value=self.display_text[i],!1});var type_changed=this.type!=prev_type;type_changed&&this.switchEditor(this.type),this.editors[this.type].setValue(val,initial),this.refreshValue(),self.onChange(type_changed)},destroy:function(){$each(this.editors,function(type,editor){editor&&editor.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()},showValidationErrors:function(errors){var self=this;if(this.oneOf||this.anyOf){var check_part=this.oneOf?"oneOf":"anyOf";$each(this.editors,function(i,editor){if(editor){var check=self.path+"."+check_part+"["+i+"]",new_errors=[];$each(errors,function(j,error){if(error.path.substr(0,check.length)===check){var new_error=$extend({},error);new_error.path=self.path+new_error.path.substr(check.length),new_errors.push(new_error)}}),editor.showValidationErrors(new_errors)}})}else $each(this.editors,function(type,editor){editor&&editor.showValidationErrors(errors)})}}),JSONEditor.defaults.editors.enum=JSONEditor.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){this.container;this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.title),this.options.enum_titles=this.options.enum_titles||[],this.enum=this.schema.enum,this.selected=0,this.select_options=[],this.html_values=[];for(var self=this,i=0;i<this.enum.length;i++)this.select_options[i]=this.options.enum_titles[i]||"Value "+(i+1),this.html_values[i]=this.getHTML(this.enum[i]);this.switcher=this.theme.getSwitcher(this.select_options),this.container.appendChild(this.switcher),this.display_area=this.theme.getIndentedPanel(),this.container.appendChild(this.display_area),this.options.hide_display&&(this.display_area.style.display="none"),this.switcher.addEventListener("change",function(){self.selected=self.select_options.indexOf(this.value),self.value=self.enum[self.selected],self.refreshValue(),self.onChange(!0)}),this.value=this.enum[0],this.refreshValue(),1===this.enum.length&&(this.switcher.style.display="none")},refreshValue:function(){var self=this;self.selected=-1;var stringified=JSON.stringify(this.value);$each(this.enum,function(i,el){if(stringified===JSON.stringify(el))return self.selected=i,!1}),self.selected<0?self.setValue(self.enum[0]):(this.switcher.value=this.select_options[this.selected],this.display_area.innerHTML=this.html_values[this.selected])},enable:function(){this.always_disabled||(this.switcher.disabled=!1,this._super())},disable:function(always_disabled){always_disabled&&(this.always_disabled=!0),this.switcher.disabled=!0,this._super()},getHTML:function(el){var self=this;if(null===el)return"<em>null</em>";if("object"==typeof el){var ret="";return $each(el,function(i,child){var html=self.getHTML(child);Array.isArray(el)||(html="<div><em>"+i+"</em>: "+html+"</div>"),ret+="<li>"+html+"</li>"}),ret=Array.isArray(el)?"<ol>"+ret+"</ol>":"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>"+ret+"</ul>"}return"boolean"==typeof el?el?"true":"false":"string"==typeof el?el.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):el},setValue:function(val){this.value!==val&&(this.value=val,this.refreshValue(),this.onChange())},destroy:function(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()}}),JSONEditor.defaults.editors.select=JSONEditor.AbstractEditor.extend({setValue:function(value,initial){var sanitized=value=this.typecast(value||"");this.enum_values.indexOf(sanitized)<0&&(sanitized=this.enum_values[0]),this.value!==sanitized&&(initial?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.input.value=this.enum_options[this.enum_values.indexOf(sanitized)],this.select2&&(this.select2v4?this.select2.val(this.input.value).trigger("change"):this.select2.select2("val",this.input.value)),this.value=sanitized,this.onChange(),this.change())},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var longest_text=this.getTitle().length,i=0;i<this.enum_options.length;i++)longest_text=Math.max(longest_text,this.enum_options[i].length+4);return Math.min(12,Math.max(longest_text/7,2))},typecast:function(value){return"boolean"===this.schema.type?!!value:"number"===this.schema.type?1*value:"integer"===this.schema.type?Math.floor(1*value):""+value},getValue:function(){return this.dependenciesFulfilled?this.typecast(this.value):undefined},preBuild:function(){var i,self=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var display=this.schema.options&&this.schema.options.enum_titles||[];$each(this.schema.enum,function(i,option){self.enum_options[i]=""+option,self.enum_display[i]=""+(display[i]||option),self.enum_values[i]=self.typecast(option)}),this.isRequired()||(self.enum_display.unshift(" "),self.enum_options.unshift("undefined"),self.enum_values.unshift(undefined))}else if("boolean"===this.schema.type)self.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],self.enum_options=["1",""],self.enum_values=[!0,!1],this.isRequired()||(self.enum_display.unshift(" "),self.enum_options.unshift("undefined"),self.enum_values.unshift(undefined));else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(i=0;i<this.schema.enumSource.length;i++)"string"==typeof this.schema.enumSource[i]?this.enumSource[i]={source:this.schema.enumSource[i]}:Array.isArray(this.schema.enumSource[i])?this.enumSource[i]=this.schema.enumSource[i]:this.enumSource[i]=$extend({},this.schema.enumSource[i]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(i=0;i<this.enumSource.length;i++)this.enumSource[i].value&&(this.enumSource[i].value=this.jsoneditor.compileTemplate(this.enumSource[i].value,this.template_engine)),this.enumSource[i].title&&(this.enumSource[i].title=this.jsoneditor.compileTemplate(this.enumSource[i].title,this.template_engine)),this.enumSource[i].filter&&(this.enumSource[i].filter=this.jsoneditor.compileTemplate(this.enumSource[i].filter,this.template_engine))}},build:function(){var self=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&this.container.classList.add("compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.setInputAttributes([]),this.input.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),self.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var new_val,val=this.typecast(this.input.value);(new_val=-1===this.enum_values.indexOf(val)?this.enum_values[0]:this.enum_values[this.enum_values.indexOf(val)])!==this.value&&(this.is_dirty=!0,this.value=new_val,this.onChange(!0))},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&(this.enum_options.length>2||this.enum_options.length&&this.enumSource)){var options=$extend({},JSONEditor.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(options=$extend(options,this.schema.options.select2_options)),this.select2=window.jQuery(this.input).select2(options),this.select2v4=this.select2.select2.hasOwnProperty("amd");var self=this;this.select2.on("select2-blur",function(){self.select2v4?self.input.value=self.select2.val():self.input.value=self.select2.select2("val"),self.onInputChange()}),this.select2.on("change",function(){self.select2v4?self.input.value=self.select2.val():self.input.value=self.select2.select2("val"),self.onInputChange()})}else this.select2=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelect2()},onWatchedFieldChange:function(){var vars,j;if(this.enumSource){vars=this.getWatchedFieldValues();for(var select_options=[],select_titles=[],i=0;i<this.enumSource.length;i++)if(Array.isArray(this.enumSource[i]))select_options=select_options.concat(this.enumSource[i]),select_titles=select_titles.concat(this.enumSource[i]);else{var items=[];if(items=Array.isArray(this.enumSource[i].source)?this.enumSource[i].source:vars[this.enumSource[i].source]){if(this.enumSource[i].slice&&(items=Array.prototype.slice.apply(items,this.enumSource[i].slice)),this.enumSource[i].filter){var new_items=[];for(j=0;j<items.length;j++)this.enumSource[i].filter({i:j,item:items[j],watched:vars})&&new_items.push(items[j]);items=new_items}var item_titles=[],item_values=[];for(j=0;j<items.length;j++){var item=items[j];this.enumSource[i].value?item_values[j]=this.typecast(this.enumSource[i].value({i:j,item:item})):item_values[j]=items[j],this.enumSource[i].title?item_titles[j]=this.enumSource[i].title({i:j,item:item}):item_titles[j]=item_values[j]}select_options=select_options.concat(item_values),select_titles=select_titles.concat(item_titles)}}var prev_value=this.value;this.theme.setSelectOptions(this.input,select_options,select_titles),this.enum_options=select_options,this.enum_display=select_titles,this.enum_values=select_options,this.select2&&this.select2.select2("destroy"),-1!==select_options.indexOf(prev_value)?(this.input.value=prev_value,this.value=prev_value):(this.input.value=select_options[0],this.value=this.typecast(select_options[0]||""),this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.setupSelect2()}this._super()},enable:function(){this.always_disabled||(this.input.disabled=!1,this.select2&&(this.select2v4?this.select2.prop("disabled",!1):this.select2.select2("enable",!0))),this._super()},disable:function(always_disabled){always_disabled&&(this.always_disabled=!0),this.input.disabled=!0,this.select2&&(this.select2v4?this.select2.prop("disabled",!0):this.select2.select2("enable",!1)),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()},showValidationErrors:function(errors){var self=this;if("always"===this.jsoneditor.options.show_errors);else if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return;this.previous_error_setting=this.jsoneditor.options.show_errors;var messages=[];$each(errors,function(i,error){error.path===self.path&&messages.push(error.message)}),messages.length?this.theme.addInputError(this.input,messages.join(". ")+"."):this.theme.removeInputError(this.input)}}),JSONEditor.defaults.editors.selectize=JSONEditor.AbstractEditor.extend({setValue:function(value,initial){var sanitized=value=this.typecast(value||"");this.enum_values.indexOf(sanitized)<0&&(sanitized=this.enum_values[0]),this.value!==sanitized&&(this.input.value=this.enum_options[this.enum_values.indexOf(sanitized)],this.selectize&&this.selectize[0].selectize.addItem(sanitized),this.value=sanitized,this.onChange())},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var longest_text=this.getTitle().length,i=0;i<this.enum_options.length;i++)longest_text=Math.max(longest_text,this.enum_options[i].length+4);return Math.min(12,Math.max(longest_text/7,2))},typecast:function(value){return"boolean"===this.schema.type?!!value:"number"===this.schema.type?1*value:"integer"===this.schema.type?Math.floor(1*value):""+value},getValue:function(){return this.dependenciesFulfilled?this.value:undefined},preBuild:function(){var i,self=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var display=this.schema.options&&this.schema.options.enum_titles||[];$each(this.schema.enum,function(i,option){self.enum_options[i]=""+option,self.enum_display[i]=""+(display[i]||option),self.enum_values[i]=self.typecast(option)})}else if("boolean"===this.schema.type)self.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],self.enum_options=["1","0"],self.enum_values=[!0,!1];else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(i=0;i<this.schema.enumSource.length;i++)"string"==typeof this.schema.enumSource[i]?this.enumSource[i]={source:this.schema.enumSource[i]}:Array.isArray(this.schema.enumSource[i])?this.enumSource[i]=this.schema.enumSource[i]:this.enumSource[i]=$extend({},this.schema.enumSource[i]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(i=0;i<this.enumSource.length;i++)this.enumSource[i].value&&(this.enumSource[i].value=this.jsoneditor.compileTemplate(this.enumSource[i].value,this.template_engine)),this.enumSource[i].title&&(this.enumSource[i].title=this.jsoneditor.compileTemplate(this.enumSource[i].title,this.template_engine)),this.enumSource[i].filter&&(this.enumSource[i].filter=this.jsoneditor.compileTemplate(this.enumSource[i].filter,this.template_engine))}},build:function(){var self=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&this.container.classList.add("compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),self.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var val=this.input.value;-1===this.enum_options.indexOf(val)&&this.enum_options[0],this.value=val,this.onChange(!0)},setupSelectize:function(){var self=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&(this.enum_options.length>=2||this.enum_options.length&&this.enumSource)){var options=$extend({},JSONEditor.plugins.selectize);this.schema.options&&this.schema.options.selectize_options&&(options=$extend(options,this.schema.options.selectize_options)),this.selectize=window.jQuery(this.input).selectize($extend(options,{create:options.create===undefined||options.create,onChange:function(){self.onInputChange()}}))}else this.selectize=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelectize()},onWatchedFieldChange:function(){var vars,j;if(this.enumSource){vars=this.getWatchedFieldValues();for(var select_options=[],select_titles=[],i=0;i<this.enumSource.length;i++)if(Array.isArray(this.enumSource[i]))select_options=select_options.concat(this.enumSource[i]),select_titles=select_titles.concat(this.enumSource[i]);else if(vars[this.enumSource[i].source]){var items=vars[this.enumSource[i].source];if(this.enumSource[i].slice&&(items=Array.prototype.slice.apply(items,this.enumSource[i].slice)),this.enumSource[i].filter){var new_items=[];for(j=0;j<items.length;j++)this.enumSource[i].filter({i:j,item:items[j]})&&new_items.push(items[j]);items=new_items}var item_titles=[],item_values=[];for(j=0;j<items.length;j++){var item=items[j];this.enumSource[i].value?item_values[j]=this.enumSource[i].value({i:j,item:item}):item_values[j]=items[j],this.enumSource[i].title?item_titles[j]=this.enumSource[i].title({i:j,item:item}):item_titles[j]=item_values[j]}select_options=select_options.concat(item_values),select_titles=select_titles.concat(item_titles)}var prev_value=this.value;prev_value!==undefined&&""!==prev_value&&-1===select_options.indexOf(prev_value)&&(select_options=select_options.concat(prev_value),select_titles=select_titles.concat(prev_value)),this.theme.setSelectOptions(this.input,select_options,select_titles),this.enum_options=select_options,this.enum_display=select_titles,this.enum_values=select_options,-1!==select_options.indexOf(prev_value)?(this.input.value=prev_value,this.value=prev_value):(this.input.value=select_options[0],this.value=select_options[0]||"",this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.selectize?this.updateSelectizeOptions(select_options):this.setupSelectize(),this._super()}},updateSelectizeOptions:function(select_options){var selectized=this.selectize[0].selectize,self=this;for(var n in selectized.off(),selectized.clearOptions(),select_options)selectized.addOption({value:select_options[n],text:select_options[n]});selectized.addItem(this.value),selectized.on("change",function(){self.onInputChange()})},enable:function(){this.always_disabled||(this.input.disabled=!1,this.selectize&&this.selectize[0].selectize.unlock(),this._super())},disable:function(always_disabled){always_disabled&&(this.always_disabled=!0),this.input.disabled=!0,this.selectize&&this.selectize[0].selectize.lock(),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.selectize&&(this.selectize[0].selectize.destroy(),this.selectize=null),this._super()}}),JSONEditor.defaults.editors.multiselect=JSONEditor.AbstractEditor.extend({preBuild:function(){var i;this._super(),this.select_options={},this.select_values={};var items_schema=this.jsoneditor.expandRefs(this.schema.items||{}),e=items_schema.enum||[],t=items_schema.options&&items_schema.options.enum_titles||[];for(this.option_keys=[],this.option_titles=[],i=0;i<e.length;i++)this.sanitize(e[i])===e[i]&&(this.option_keys.push(e[i]+""),this.option_titles.push((t[i]||e[i])+""),this.select_values[e[i]+""]=e[i])},build:function(){var i,self=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),!this.schema.format&&this.option_keys.length<8||"checkbox"===this.schema.format){for(this.input_type="checkboxes",this.inputs={},this.controls={},i=0;i<this.option_keys.length;i++){this.inputs[this.option_keys[i]]=this.theme.getCheckbox(),this.select_options[this.option_keys[i]]=this.inputs[this.option_keys[i]];var label=this.theme.getCheckboxLabel(this.option_titles[i]);this.controls[this.option_keys[i]]=this.theme.getFormControl(label,this.inputs[this.option_keys[i]])}this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description)}else{for(this.input_type="select",this.input=this.theme.getSelectInput(this.option_keys),this.theme.setSelectOptions(this.input,this.option_keys,this.option_titles),this.input.multiple=!0,this.input.size=Math.min(10,this.option_keys.length),i=0;i<this.option_keys.length;i++)this.select_options[this.option_keys[i]]=this.input.children[i];(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.control=this.theme.getFormControl(this.label,this.input,this.description)}this.container.appendChild(this.control),this.control.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation();var new_value=[];for(i=0;i<self.option_keys.length;i++)(self.select_options[self.option_keys[i]].selected||self.select_options[self.option_keys[i]].checked)&&new_value.push(self.select_values[self.option_keys[i]]);self.updateValue(new_value),self.onChange(!0)})},setValue:function(value,initial){var i;for("object"!=typeof(value=value||[])?value=[value]:Array.isArray(value)||(value=[]),i=0;i<value.length;i++)"string"!=typeof value[i]&&(value[i]+="");for(i in this.select_options)this.select_options.hasOwnProperty(i)&&(this.select_options[i]["select"===this.input_type?"selected":"checked"]=-1!==value.indexOf(i));this.updateValue(value),this.onChange()},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2){var options=window.jQuery.extend({},JSONEditor.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(options=$extend(options,this.schema.options.select2_options)),this.select2=window.jQuery(this.input).select2(options),this.select2v4=this.select2.select2.hasOwnProperty("amd");var self=this;this.select2.on("select2-blur",function(){self.select2v4?self.value=self.select2.val():self.value=self.select2.select2("val"),self.onChange(!0)}),this.select2.on("change",function(){self.select2v4?self.value=self.select2.val():self.value=self.select2.select2("val"),self.onChange(!0)})}else this.select2=null},onInputChange:function(){this.value=this.input.value,this.onChange(!0)},postBuild:function(){this._super(),this.setupSelect2()},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){var longest_text=this.getTitle().length;for(var i in this.select_values)this.select_values.hasOwnProperty(i)&&(longest_text=Math.max(longest_text,(this.select_values[i]+"").length+4));return Math.min(12,Math.max(longest_text/7,2))},updateValue:function(value){for(var changed=!1,new_value=[],i=0;i<value.length;i++)if(this.select_options[value[i]+""]){var sanitized=this.sanitize(this.select_values[value[i]]);new_value.push(sanitized),sanitized!==value[i]&&(changed=!0)}else changed=!0;return this.value=new_value,this.select2&&(this.select2v4?this.select2.val(this.value).trigger("change"):this.select2.select2("val",this.value)),changed},sanitize:function(value){return"number"===this.schema.items.type?1*value:"integer"===this.schema.items.type?Math.floor(1*value):""+value},enable:function(){if(!this.always_disabled){if(this.input)this.input.disabled=!1;else if(this.inputs)for(var i in this.inputs)this.inputs.hasOwnProperty(i)&&(this.inputs[i].disabled=!1);this.select2&&(this.select2v4?this.select2.prop("disabled",!1):this.select2.select2("enable",!0)),this._super()}},disable:function(always_disabled){if(always_disabled&&(this.always_disabled=!0),this.input)this.input.disabled=!0;else if(this.inputs)for(var i in this.inputs)this.inputs.hasOwnProperty(i)&&(this.inputs[i].disabled=!0);this.select2&&(this.select2v4?this.select2.prop("disabled",!0):this.select2.select2("enable",!1)),this._super()},destroy:function(){this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()}}),JSONEditor.defaults.editors.base64=JSONEditor.AbstractEditor.extend({getNumColumns:function(){return 4},setFileReaderListener:function(fr_multiple){var self=this;fr_multiple.addEventListener("load",function(event){if(self.count==self.current_item_index)self.value[self.count][self.key]=event.target.result;else{var temp_object={};for(var key in self.parent.schema.properties)temp_object[key]="";temp_object[self.key]=event.target.result,self.value.splice(self.count,0,temp_object)}self.count+=1,self.count==self.total+self.current_item_index&&self.arrayEditor.setValue(self.value)})},build:function(){var self=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw"FileReader required for base64 editor";this.uploader=this.theme.getFormInputField("file"),self.schema.options&&self.schema.options.multiple&&1==self.schema.options.multiple&&self.parent&&"object"==self.parent.schema.type&&self.parent.parent&&"array"==self.parent.parent.schema.type&&this.uploader.setAttribute("multiple",""),this.uploader.addEventListener("change",function(e){if(e.preventDefault(),e.stopPropagation(),this.files&&this.files.length)if(this.files.length>1&&self.schema.options&&self.schema.options.multiple&&1==self.schema.options.multiple&&self.parent&&"object"==self.parent.schema.type&&self.parent.parent&&"array"==self.parent.parent.schema.type){self.arrayEditor=self.jsoneditor.getEditor(self.parent.parent.path),self.value=self.arrayEditor.getValue(),self.total=this.files.length,self.current_item_index=parseInt(self.parent.key),self.count=self.current_item_index;for(var i=0;i<self.total;i++){var fr_multiple=new FileReader;self.setFileReaderListener(fr_multiple),fr_multiple.readAsDataURL(this.files[i])}}else{var fr=new FileReader;fr.onload=function(evt){self.value=evt.target.result,self.refreshPreview(),self.onChange(!0),fr=null},fr.readAsDataURL(this.files[0])}})}this.preview=this.theme.getFormInputDescription(this.schema.description),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview,this.infoButton),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.value&&(this.last_preview=this.value,this.preview.innerHTML="",this.value)){var mime=this.value.match(/^data:([^;,]+)[;,]/);if(mime&&(mime=mime[1]),mime){if(this.preview.innerHTML="<strong>Type:</strong> "+mime+", <strong>Size:</strong> "+Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)+" bytes","image"===mime.substr(0,5)){this.preview.innerHTML+="<br>";var img=document.createElement("img");img.style.maxWidth="100%",img.style.maxHeight="100px",img.src=this.value,this.preview.appendChild(img)}}else this.preview.innerHTML="<em>Invalid data URI</em>"}},enable:function(){this.always_disabled||(this.uploader&&(this.uploader.disabled=!1),this._super())},disable:function(always_disabled){always_disabled&&(this.always_disabled=!0),this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(val){this.value!==val&&(this.value=val,this.input.value=this.value,this.refreshPreview(),this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),JSONEditor.defaults.editors.upload=JSONEditor.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var self=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!this.jsoneditor.options.upload)throw"Upload handler required for upload editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(e){if(e.preventDefault(),e.stopPropagation(),this.files&&this.files.length){var fr=new FileReader;fr.onload=function(evt){self.preview_value=evt.target.result,self.refreshPreview(),self.onChange(!0),fr=null},fr.readAsDataURL(this.files[0])}})}var description=this.schema.description;description||(description=""),this.preview=this.theme.getFormInputDescription(description),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview),this.container.appendChild(this.control),window.requestAnimationFrame(function(){if(self.value){var img=document.createElement("img");img.style.maxWidth="100%",img.style.maxHeight="100px",img.onload=function(event){self.preview.appendChild(img)},img.onerror=function(error){console.error("upload error",error)},img.src=self.container.querySelector("a").href}})},refreshPreview:function(){if(this.last_preview!==this.preview_value&&(this.last_preview=this.preview_value,this.preview.innerHTML="",this.preview_value)){var self=this,mime=this.preview_value.match(/^data:([^;,]+)[;,]/);mime&&(mime=mime[1]),mime||(mime="unknown");var file=this.uploader.files[0];if(this.preview.innerHTML="<strong>Type:</strong> "+mime+", <strong>Size:</strong> "+file.size+" bytes","image"===mime.substr(0,5)){this.preview.innerHTML+="<br>";var img=document.createElement("img");img.style.maxWidth="100%",img.style.maxHeight="100px",img.src=this.preview_value,this.preview.appendChild(img)}this.preview.innerHTML+="<br>";var uploadButton=this.getButton("Upload","upload","Upload");this.preview.appendChild(uploadButton),uploadButton.addEventListener("click",function(event){event.preventDefault(),uploadButton.setAttribute("disabled","disabled"),self.theme.removeInputError(self.uploader),self.theme.getProgressBar&&(self.progressBar=self.theme.getProgressBar(),self.preview.appendChild(self.progressBar)),self.jsoneditor.options.upload(self.path,file,{success:function(url){self.setValue(url),self.parent?self.parent.onChildEditorChange(self):self.jsoneditor.onChange(),self.progressBar&&self.preview.removeChild(self.progressBar),uploadButton.removeAttribute("disabled")},failure:function(error){self.theme.addInputError(self.uploader,error),self.progressBar&&self.preview.removeChild(self.progressBar),uploadButton.removeAttribute("disabled")},updateProgress:function(progress){self.progressBar&&(progress?self.theme.updateProgressBar(self.progressBar,progress):self.theme.updateProgressBarUnknown(self.progressBar))}})}),(this.jsoneditor.options.auto_upload||this.schema.options.auto_upload)&&(uploadButton.dispatchEvent(new MouseEvent("click")),this.preview.removeChild(uploadButton))}},enable:function(){this.always_disabled||(this.uploader&&(this.uploader.disabled=!1),this._super())},disable:function(always_disabled){always_disabled&&(this.always_disabled=!0),this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(val){this.value!==val&&(this.value=val,this.input.value=this.value,this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),JSONEditor.defaults.editors.checkbox=JSONEditor.AbstractEditor.extend({setValue:function(value,initial){this.value=!!value,this.input.checked=this.value,this.onChange()},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){return Math.min(12,Math.max(this.getTitle().length/7,2))},build:function(){var self=this;this.options.compact||(this.label=this.header=this.theme.getCheckboxLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&this.container.classList.add("compact"),this.input=this.theme.getCheckbox(),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),self.value=this.checked,self.onChange(!0)}),this.container.appendChild(this.control)},enable:function(){this.always_disabled||(this.input.disabled=!1,this._super())},disable:function(always_disabled){always_disabled&&(this.always_disabled=!0),this.input.disabled=!0,this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()},showValidationErrors:function(errors){var self=this;if("always"===this.jsoneditor.options.show_errors);else if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return;this.previous_error_setting=this.jsoneditor.options.show_errors;var messages=[];$each(errors,function(i,error){error.path===self.path&&messages.push(error.message)}),this.input.controlgroup=this.control,messages.length?this.theme.addInputError(this.input,messages.join(". ")+"."):this.theme.removeInputError(this.input)}}),JSONEditor.defaults.editors.arraySelectize=JSONEditor.AbstractEditor.extend({build:function(){this.title=this.theme.getFormInputLabel(this.getTitle()),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.error_holder=document.createElement("div"),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description)),this.input=document.createElement("select"),this.input.setAttribute("multiple","multiple");var group=this.theme.getFormControl(this.title,this.input,this.description);this.container.appendChild(group),this.container.appendChild(this.error_holder),window.jQuery(this.input).selectize({delimiter:!1,createOnBlur:!0,create:!0})},postBuild:function(){var self=this;this.input.selectize.on("change",function(event){self.refreshValue(),self.onChange(!0)})},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()},empty:function(hard){},setValue:function(value,initial){var self=this;value=value||[],Array.isArray(value)||(value=[value]),this.input.selectize.clearOptions(),this.input.selectize.clear(!0),value.forEach(function(item){self.input.selectize.addOption({text:item,value:item})}),this.input.selectize.setValue(value),this.refreshValue(initial)},refreshValue:function(force){this.value=this.input.selectize.getValue()},showValidationErrors:function(errors){var self=this,my_errors=[],other_errors=[];if($each(errors,function(i,error){error.path===self.path?my_errors.push(error):other_errors.push(error)}),this.error_holder)if(my_errors.length){this.error_holder.innerHTML="",this.error_holder.style.display="",$each(my_errors,function(i,error){self.error_holder.appendChild(self.theme.getErrorMessage(error.message))})}else this.error_holder.style.display="none"}}),JSONEditor.defaults.editors.starrating=JSONEditor.defaults.editors.string.extend({build:function(){var self=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&this.container.classList.add("compact"),this.ratingContainer=document.createElement("div"),this.ratingContainer.classList.add("starrating"),this.enum_values=this.schema.enum,this.radioGroup=[];for(var radioInputEventhandler=function(e){e.preventDefault(),e.stopPropagation(),self.setValue(this.value),self.onChange(!0)},i=this.enum_values.length-1;i>-1;i--){var id=this.key+"-"+i,radioInput=this.theme.getFormInputField("radio");radioInput.name=this.formname+"[starrating]",radioInput.value=this.enum_values[i],radioInput.id=id,radioInput.addEventListener("change",radioInputEventhandler,!1),this.radioGroup.push(radioInput);var radioLabel=document.createElement("label");radioLabel.htmlFor=id,radioLabel.title=this.enum_values[i],this.options.displayValue&&radioLabel.classList.add("starrating-display-enabled"),this.ratingContainer.appendChild(radioInput),this.ratingContainer.appendChild(radioLabel)}if(this.options.displayValue&&(this.displayRating=document.createElement("div"),this.displayRating.classList.add("starrating-display"),this.displayRating.innerText=this.enum_values[0],this.ratingContainer.appendChild(this.displayRating)),this.schema.readOnly||this.schema.readonly){this.always_disabled=!0;for(var j=0;i<this.radioGroup.length;j++)this.radioGroup[j].disabled=!0;this.ratingContainer.classList.add("readonly")}var ratingsContainerWrapper=this.theme.getContainer();ratingsContainerWrapper.appendChild(this.ratingContainer),this.input=ratingsContainerWrapper,this.control=this.theme.getFormControl(this.label,ratingsContainerWrapper,this.description,this.infoButton),this.container.appendChild(this.control)},enable:function(){if(!this.always_disabled){for(var i=0;i<this.radioGroup.length;i++)this.radioGroup[i].disabled=!1;this.ratingContainer.classList.remove("readonly"),this._super()}},disable:function(always_disabled){always_disabled&&(this.always_disabled=!0);for(var i=0;i<this.radioGroup.length;i++)this.radioGroup[i].disabled=!0;this.ratingContainer.classList.add("readonly"),this._super()},destroy:function(){this.ratingContainer.parentNode&&this.ratingContainer.parentNode.parentNode&&this.ratingContainer.parentNode.parentNode.removeChild(this.ratingContainer.parentNode),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this._super()},getNumColumns:function(){return 2},setValue:function(val){for(var i=0;i<this.radioGroup.length;i++)if(this.radioGroup[i].value==val){this.radioGroup[i].checked=!0,this.value=val,this.options.displayValue&&(this.displayRating.innerHTML=this.value),this.onChange();break}}}),JSONEditor.defaults.editors.datetime=JSONEditor.defaults.editors.string.extend({build:function(){if(this._super(),this.input&&window.flatpickr&&"object"==typeof this.options.flatpickr){this.options.flatpickr.enableTime="date"!=this.schema.format,this.options.flatpickr.noCalendar="time"==this.schema.format,"integer"==this.schema.type&&(this.options.flatpickr.mode="single"),this.input.setAttribute("data-input","");var input=this.input;if(!0===this.options.flatpickr.wrap){var buttons=[];if(!1!==this.options.flatpickr.showToggleButton){var toggleButton=this.getButton("","time"==this.schema.format?"time":"calendar",this.translate("flatpickr_toggle_button"));toggleButton.setAttribute("data-toggle",""),buttons.push(toggleButton)}if(!1!==this.options.flatpickr.showClearButton){var clearButton=this.getButton("","clear",this.translate("flatpickr_clear_button"));clearButton.setAttribute("data-clear",""),buttons.push(clearButton)}var parentNode=this.input.parentNode,nextSibling=this.input.nextSibling,buttonContainer=this.theme.getInputGroup(this.input,buttons);buttonContainer!==undefined?(this.options.flatpickr.inline=!1,parentNode.insertBefore(buttonContainer,nextSibling),input=buttonContainer):this.options.flatpickr.wrap=!1}this.flatpickr=window.flatpickr(input,this.options.flatpickr),!0===this.options.flatpickr.inline&&!0===this.options.flatpickr.inlineHideInput&&this.input.setAttribute("type","hidden")}},getValue:function(){if(!this.dependenciesFulfilled)return undefined;if("string"==this.schema.type)return this.value;if(""===this.value||this.value===undefined)return undefined;var value="time"==this.schema.format?"1970-01-01 "+this.value:this.value;return parseInt(new Date(value).getTime()/1e3)},setValue:function(value,initial,from_template){if("string"==this.schema.type)this._super(value,initial,from_template),this.flatpickr&&this.flatpickr.setDate(value);else if(value>0){var dateObj=new Date(1e3*value),year=dateObj.getFullYear(),month=this.zeroPad(dateObj.getMonth()+1),day=this.zeroPad(dateObj.getDate()),hour=this.zeroPad(dateObj.getHours()),min=this.zeroPad(dateObj.getMinutes()),sec=this.zeroPad(dateObj.getSeconds()),date=[year,month,day].join("-"),time=[hour,min,sec].join(":"),dateValue=date+" "+time;"date"==this.schema.format?dateValue=date:"time"==this.schema.format&&(dateValue=time),this.input.value=dateValue,this.flatpickr&&this.flatpickr.setDate(dateValue)}},destroy:function(){this.flatpickr&&this.flatpickr.destroy(),this.flatpickr=null,this._super()},zeroPad:function(value){return("0"+value).slice(-2)}}),JSONEditor.defaults.editors.signature=JSONEditor.defaults.editors.string.extend({build:function(){var self=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description));var formname=this.formname.replace(/\W/g,"");if("function"==typeof SignaturePad){document.getElementById("json-editor-style-signature");this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input);var signatureContainer=document.createElement("div");signatureContainer.classList.add("signature-container");var canvas=document.createElement("canvas");canvas.setAttribute("name",formname),canvas.classList.add("signature"),signatureContainer.appendChild(canvas),self.signaturePad=new window.SignaturePad(canvas,{onEnd:function(){self.signaturePad.isEmpty()?self.input.value="":self.input.value=self.signaturePad.toDataURL(),self.is_dirty=!0,self.refreshValue(),self.watch_listener(),self.jsoneditor.notifyWatchers(self.path),self.parent?self.parent.onChildEditorChange(self):self.jsoneditor.onChange()}});var buttons=document.createElement("div"),clearButton=document.createElement("button");clearButton.classList.add("tiny","button"),clearButton.innerHTML="Clear signature",buttons.appendChild(clearButton),signatureContainer.appendChild(buttons),this.options.compact&&this.container.setAttribute("class",this.container.getAttribute("class")+" compact"),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,$each(this.inputs,function(i,input){canvas.setAttribute("readOnly","readOnly"),input.disabled=!0})),clearButton.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.signaturePad.clear(),self.signaturePad.strokeEnd()}),this.control=this.theme.getFormControl(this.label,signatureContainer,this.description),this.container.appendChild(this.control),this.refreshValue(),canvas.width=signatureContainer.offsetWidth,self.options&&self.options.canvas_height?canvas.height=self.options.canvas_height:canvas.height="300"}else{var message=document.createElement("p");message.innerHTML="Signature pad is not available, please include SignaturePad from https://github.com/szimek/signature_pad",this.container.appendChild(message)}},setValue:function(val){if("function"==typeof SignaturePad){this.formname.replace(/\W/g,"");var sanitized=this.sanitize(val);if(this.value===sanitized)return;return this.value=sanitized,this.input.value=this.value,this.signaturePad.clear(),val&&""!=val&&this.signaturePad.fromDataURL(val),this.watch_listener(),this.jsoneditor.notifyWatchers(this.path),!1}},destroy:function(){this.formname.replace(/\W/g,"");this.signaturePad.off(),delete this.signaturePad}});var matchKey=(elem=document.documentElement,elem.matches?"matches":elem.webkitMatchesSelector?"webkitMatchesSelector":elem.mozMatchesSelector?"mozMatchesSelector":elem.msMatchesSelector?"msMatchesSelector":elem.oMatchesSelector?"oMatchesSelector":void 0);var elem;return JSONEditor.AbstractTheme=Class.extend({getContainer:function(){return document.createElement("div")},getFloatRightLinkHolder:function(){var el=document.createElement("div");return el.style=el.style||{},el.style.cssFloat="right",el.style.marginLeft="10px",el},getModal:function(){var el=document.createElement("div");return el.style.backgroundColor="white",el.style.border="1px solid black",el.style.boxShadow="3px 3px black",el.style.position="absolute",el.style.zIndex="10",el.style.display="none",el},getGridContainer:function(){return document.createElement("div")},getGridRow:function(){var el=document.createElement("div");return el.classList.add("row"),el},getGridColumn:function(){return document.createElement("div")},setGridColumnSize:function(el,size){},getLink:function(text){var el=document.createElement("a");return el.setAttribute("href","#"),el.appendChild(document.createTextNode(text)),el},disableHeader:function(header){header.style.color="#ccc"},disableLabel:function(label){label.style.color="#ccc"},enableHeader:function(header){header.style.color=""},enableLabel:function(label){label.style.color=""},getInfoButton:function(text){var icon=document.createElement("span");icon.innerText="ⓘ",icon.style.fontSize="16px",icon.style.fontWeight="bold",icon.style.padding=".25rem",icon.style.position="relative",icon.style.display="inline-block";var tooltip=document.createElement("span");return tooltip.style.fontSize="12px",icon.style.fontWeight="normal",tooltip.style["font-family"]="sans-serif",tooltip.style.visibility="hidden",tooltip.style["background-color"]="rgba(50, 50, 50, .75)",tooltip.style.margin="0 .25rem",tooltip.style.color="#FAFAFA",tooltip.style.padding=".5rem 1rem",tooltip.style["border-radius"]=".25rem",tooltip.style.width="20rem",tooltip.style.position="absolute",tooltip.innerText=text,icon.onmouseover=function(){tooltip.style.visibility="visible"},icon.onmouseleave=function(){tooltip.style.visibility="hidden"},icon.appendChild(tooltip),icon},getFormInputLabel:function(text){var el=document.createElement("label");return el.appendChild(document.createTextNode(text)),el},getCheckboxLabel:function(text){var el=this.getFormInputLabel(text);return el.style.fontWeight="normal",el},getHeader:function(text){var el=document.createElement("h3");return"string"==typeof text?el.textContent=text:el.appendChild(text),el},getCheckbox:function(){var el=this.getFormInputField("checkbox");return el.style.display="inline-block",el.style.width="auto",el},getMultiCheckboxHolder:function(controls,label,description){var el=document.createElement("div");for(var i in label&&(label.style.display="block",el.appendChild(label)),controls)controls.hasOwnProperty(i)&&(controls[i].style.display="inline-block",controls[i].style.marginRight="20px",el.appendChild(controls[i]));return description&&el.appendChild(description),el},getSelectInput:function(options){var select=document.createElement("select");return options&&this.setSelectOptions(select,options),select},getSwitcher:function(options){var switcher=this.getSelectInput(options);return switcher.style.backgroundColor="transparent",switcher.style.display="inline-block",switcher.style.fontStyle="italic",switcher.style.fontWeight="normal",switcher.style.height="auto",switcher.style.marginBottom=0,switcher.style.marginLeft="5px",switcher.style.padding="0 0 0 3px",switcher.style.width="auto",switcher},getSwitcherOptions:function(switcher){return switcher.getElementsByTagName("option")},setSwitcherOptions:function(switcher,options,titles){this.setSelectOptions(switcher,options,titles)},setSelectOptions:function(select,options,titles){titles=titles||[],select.innerHTML="";for(var i=0;i<options.length;i++){var option=document.createElement("option");option.setAttribute("value",options[i]),option.textContent=titles[i]||options[i],select.appendChild(option)}},getTextareaInput:function(){var el=document.createElement("textarea");return el.style=el.style||{},el.style.width="100%",el.style.height="300px",el.style.boxSizing="border-box",el},getRangeInput:function(min,max,step){var el=this.getFormInputField("range");return el.setAttribute("min",min),el.setAttribute("max",max),el.setAttribute("step",step),el},getFormInputField:function(type){var el=document.createElement("input");return el.setAttribute("type",type),el},afterInputReady:function(input){},getFormControl:function(label,input,description,infoText){var el=document.createElement("div");return el.classList.add("form-control"),label&&el.appendChild(label),"checkbox"===input.type&&label?(label.insertBefore(input,label.firstChild),infoText&&label.appendChild(infoText)):(infoText&&label.appendChild(infoText),el.appendChild(input)),description&&el.appendChild(description),el},getIndentedPanel:function(){var el=document.createElement("div");return el.style=el.style||{},el.style.paddingLeft="10px",el.style.marginLeft="10px",el.style.borderLeft="1px solid #ccc",el},getTopIndentedPanel:function(){var el=document.createElement("div");return el.style=el.style||{},el.style.paddingLeft="10px",el.style.marginLeft="10px",el},getChildEditorHolder:function(){return document.createElement("div")},getDescription:function(text){var el=document.createElement("p");return el.innerHTML=text,el},getCheckboxDescription:function(text){return this.getDescription(text)},getFormInputDescription:function(text){return this.getDescription(text)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("div")},getButton:function(text,icon,title){var el=document.createElement("button");return el.type="button",this.setButtonText(el,text,icon,title),el},setButtonText:function(button,text,icon,title){for(;button.firstChild;)button.removeChild(button.firstChild);icon&&(button.appendChild(icon),text=" "+text);var spanEl=document.createElement("span");spanEl.appendChild(document.createTextNode(text)),button.appendChild(spanEl),title&&button.setAttribute("title",title)},getTable:function(){return document.createElement("table")},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},getTableHeaderCell:function(text){var el=document.createElement("th");return el.textContent=text,el},getTableCell:function(){return document.createElement("td")},getErrorMessage:function(text){var el=document.createElement("p");return el.style=el.style||{},el.style.color="red",el.appendChild(document.createTextNode(text)),el},addInputError:function(input,text){},removeInputError:function(input){},addTableRowError:function(row){},removeTableRowError:function(row){},getTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.innerHTML="<div style='float: left; width: 130px;' class='tabs' id='"+pName+"'></div><div class='content' style='margin-left: 120px;' id='"+pName+"'></div><div style='clear:both;'></div>",el},getTopTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.innerHTML="<div class='tabs' style='margin-left: 10px;' id='"+pName+"'></div><div style='clear:both;'></div><div class='content' id='"+pName+"'></div>",el},applyStyles:function(el,styles){for(var i in styles)styles.hasOwnProperty(i)&&(el.style[i]=styles[i])},closest:function(elem,selector){for(;elem&&elem!==document;){if(!elem[matchKey])return!1;if(elem[matchKey](selector))return elem;elem=elem.parentNode}return!1},insertBasicTopTab:function(tab,newTabs_holder){newTabs_holder.firstChild.insertBefore(tab,newTabs_holder.firstChild.firstChild)},getTab:function(span,tabId){var el=document.createElement("div");return el.appendChild(span),el.id=tabId,el.style=el.style||{},this.applyStyles(el,{border:"1px solid #ccc",borderWidth:"1px 0 1px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",borderBottomRightRadius:0,borderTopRightRadius:0,fontWeight:"bold",cursor:"pointer"}),el},getTopTab:function(span,tabId){var el=document.createElement("div");return el.id=tabId,el.appendChild(span),el.style=el.style||{},this.applyStyles(el,{float:"left",border:"1px solid #ccc",borderWidth:"1px 1px 0px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",paddingLeft:"5px",paddingRight:"5px",borderBottomRightRadius:0,borderBottomLeftRadius:0,fontWeight:"bold",cursor:"pointer"}),el},getTabContentHolder:function(tab_holder){return tab_holder.children[1]},getTopTabContentHolder:function(tab_holder){return tab_holder.children[1]},getTabContent:function(){return this.getIndentedPanel()},getTopTabContent:function(){return this.getTopIndentedPanel()},markTabActive:function(row){this.applyStyles(row.tab,{opacity:1,background:"white"}),void 0!==row.rowPane?row.rowPane.style.display="":row.container.style.display=""},markTabInactive:function(row){this.applyStyles(row.tab,{opacity:.5,background:""}),void 0!==row.rowPane?row.rowPane.style.display="none":row.container.style.display="none"},addTab:function(holder,tab){holder.children[0].appendChild(tab)},addTopTab:function(holder,tab){holder.children[0].appendChild(tab)},getBlockLink:function(){var link=document.createElement("a");return link.style.display="block",link},getBlockLinkHolder:function(){return document.createElement("div")},getLinksHolder:function(){return document.createElement("div")},createMediaLink:function(holder,link,media){holder.appendChild(link),media.style.width="100%",holder.appendChild(media)},createImageLink:function(holder,link,image){holder.appendChild(link),link.appendChild(image)},getFirstTab:function(holder){return holder.firstChild.firstChild},getInputGroup:function(input,buttons){return undefined}}),JSONEditor.defaults.themes.bootstrap2=JSONEditor.AbstractTheme.extend({getRangeInput:function(min,max,step){return this._super(min,max,step)},getGridContainer:function(){var el=document.createElement("div");return el.classList.add("container-fluid"),el},getGridRow:function(){var el=document.createElement("div");return el.classList.add("row-fluid"),el},getFormInputLabel:function(text){var el=this._super(text);return el.style.display="inline-block",el.style.fontWeight="bold",el},setGridColumnSize:function(el,size){el.classList.add("span"+size)},getSelectInput:function(options){var input=this._super(options);return input.style.width="auto",input.style.maxWidth="98%",input},getFormInputField:function(type){var el=this._super(type);return el.style.width="98%",el},afterInputReady:function(input){if(!input.controlgroup&&(input.controlgroup=this.closest(input,".control-group"),input.controls=this.closest(input,".controls"),this.closest(input,".compact")&&(input.controlgroup.className=input.controlgroup.className.replace(/control-group/g,"").replace(/[ ]{2,}/g," "),input.controls.className=input.controlgroup.className.replace(/controls/g,"").replace(/[ ]{2,}/g," "),input.style.marginBottom=0),this.queuedInputErrorText)){var text=this.queuedInputErrorText;delete this.queuedInputErrorText,this.addInputError(input,text)}},getIndentedPanel:function(){var el=document.createElement("div");return el.classList.add("well","well-small"),el.style.paddingBottom=0,el},getInfoButton:function(text){var icon=document.createElement("span");icon.classList.add("icon-info-sign","pull-right"),icon.style.padding=".25rem",icon.style.position="relative",icon.style.display="inline-block";var tooltip=document.createElement("span");return tooltip.style["font-family"]="sans-serif",tooltip.style.visibility="hidden",tooltip.style["background-color"]="rgba(50, 50, 50, .75)",tooltip.style.margin="0 .25rem",tooltip.style.color="#FAFAFA",tooltip.style.padding=".5rem 1rem",tooltip.style["border-radius"]=".25rem",tooltip.style.width="25rem",tooltip.style.transform="translateX(-27rem) translateY(-.5rem)",tooltip.style.position="absolute",tooltip.innerText=text,icon.onmouseover=function(){tooltip.style.visibility="visible"},icon.onmouseleave=function(){tooltip.style.visibility="hidden"},icon.appendChild(tooltip),icon},getFormInputDescription:function(text){var el=document.createElement("p");return el.classList.add("help-inline"),el.textContent=text,el},getFormControl:function(label,input,description,infoText){var ret=document.createElement("div");ret.classList.add("control-group");var controls=document.createElement("div");return controls.classList.add("controls"),label&&"checkbox"===input.getAttribute("type")?(ret.appendChild(controls),label.classList.add("checkbox"),label.appendChild(input),controls.appendChild(label),infoText&&controls.appendChild(infoText),controls.style.height="30px"):(label&&(label.classList.add("control-label"),ret.appendChild(label)),infoText&&controls.appendChild(infoText),controls.appendChild(input),ret.appendChild(controls)),description&&controls.appendChild(description),ret},getHeaderButtonHolder:function(){var el=this.getButtonHolder();return el.style.marginLeft="10px",el},getButtonHolder:function(){var el=document.createElement("div");return el.classList.add("btn-group"),el},getButton:function(text,icon,title){var el=this._super(text,icon,title);return el.classList.add("btn","btn-default"),el},getTable:function(){var el=document.createElement("table");return el.classList.add("table","table-bordered"),el.style.width="auto",el.style.maxWidth="none",el},addInputError:function(input,text){input.controlgroup?input.controlgroup&&input.controls&&(input.controlgroup.classList.add("error"),input.errmsg?input.errmsg.style.display="":(input.errmsg=document.createElement("p"),input.errmsg.classList.add("help-block","errormsg"),input.controls.appendChild(input.errmsg)),input.errmsg.textContent=text):this.queuedInputErrorText=text},removeInputError:function(input){input.controlgroup||delete this.queuedInputErrorText,input.errmsg&&(input.errmsg.style.display="none",input.controlgroup.classList.remove("error"))},getTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.classList.add("tabbable","tabs-left"),el.innerHTML="<ul class='nav nav-tabs'  id='"+pName+"'></ul><div class='tab-content well well-small' id='"+pName+"'></div>",el},getTopTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.classList.add("tabbable","tabs-over"),el.innerHTML="<ul class='nav nav-tabs' id='"+pName+"'></ul><div class='tab-content well well-small'  id='"+pName+"'></div>",el},getTab:function(text,tabId){var el=document.createElement("li");el.classList.add("nav-item");var a=document.createElement("a");return a.setAttribute("href","#"+tabId),a.appendChild(text),el.appendChild(a),el},getTopTab:function(text,tabId){var el=document.createElement("li");el.classList.add("nav-item");var a=document.createElement("a");return a.setAttribute("href","#"+tabId),a.appendChild(text),el.appendChild(a),el},getTabContentHolder:function(tab_holder){return tab_holder.children[1]},getTopTabContentHolder:function(tab_holder){return tab_holder.children[1]},getTabContent:function(){var el=document.createElement("div");return el.classList.add("tab-pane"),el},getTopTabContent:function(){var el=document.createElement("div");return el.classList.add("tab-pane"),el},markTabActive:function(row){row.tab.classList.add("active"),void 0!==row.rowPane?row.rowPane.classList.add("active"):row.container.classList.add("active")},markTabInactive:function(row){row.tab.classList.remove("active"),void 0!==row.rowPane?row.rowPane.classList.remove("active"):row.container.classList.remove("active")},addTab:function(holder,tab){holder.children[0].appendChild(tab)},addTopTab:function(holder,tab){holder.children[0].appendChild(tab)},getProgressBar:function(){var container=document.createElement("div");container.classList.add("progress");var bar=document.createElement("div");return bar.classList.add("bar"),bar.style.width="0%",container.appendChild(bar),container},updateProgressBar:function(progressBar,progress){progressBar&&(progressBar.firstChild.style.width=progress+"%")},updateProgressBarUnknown:function(progressBar){progressBar&&(progressBar.classList.add("progress","progress-striped","active"),progressBar.firstChild.style.width="100%")},getInputGroup:function(input,buttons){if(input){var inputGroupContainer=document.createElement("div");inputGroupContainer.classList.add("input-append"),inputGroupContainer.appendChild(input);for(var i=0;i<buttons.length;i++)buttons[i].classList.add("btn"),inputGroupContainer.appendChild(buttons[i]);return inputGroupContainer}}}),JSONEditor.defaults.themes.bootstrap3=JSONEditor.AbstractTheme.extend({getSelectInput:function(options){var el=this._super(options);return el.classList.add("form-control"),el},setGridColumnSize:function(el,size){el.classList.add("col-md-"+size)},afterInputReady:function(input){if(!input.controlgroup&&(input.controlgroup=this.closest(input,".form-group"),this.closest(input,".compact")&&(input.controlgroup.style.marginBottom=0),this.queuedInputErrorText)){var text=this.queuedInputErrorText;delete this.queuedInputErrorText,this.addInputError(input,text)}},getTextareaInput:function(){var el=document.createElement("textarea");return el.classList.add("form-control"),el},getRangeInput:function(min,max,step){return this._super(min,max,step)},getFormInputField:function(type){var el=this._super(type);return"checkbox"!==type&&el.classList.add("form-control"),el},getFormControl:function(label,input,description,infoText){var group=document.createElement("div");return label&&"checkbox"===input.type?(group.classList.add("checkbox"),label.appendChild(input),label.style.fontSize="14px",group.style.marginTop="0",infoText&&group.appendChild(infoText),group.appendChild(label),input.style.position="relative",input.style.cssFloat="left"):(group.classList.add("form-group"),label&&(label.classList.add("control-label"),group.appendChild(label)),infoText&&group.appendChild(infoText),group.appendChild(input)),description&&group.appendChild(description),group},getIndentedPanel:function(){var el=document.createElement("div");return el.classList.add("well","well-sm"),el.style.paddingBottom=0,el},getInfoButton:function(text){var icon=document.createElement("span");icon.classList.add("glyphicon","glyphicon-info-sign","pull-right"),icon.style.padding=".25rem",icon.style.position="relative",icon.style.display="inline-block";var tooltip=document.createElement("span");return tooltip.style["font-family"]="sans-serif",tooltip.style.visibility="hidden",tooltip.style["background-color"]="rgba(50, 50, 50, .75)",tooltip.style.margin="0 .25rem",tooltip.style.color="#FAFAFA",tooltip.style.padding=".5rem 1rem",tooltip.style["border-radius"]=".25rem",tooltip.style.width="25rem",tooltip.style.transform="translateX(-27rem) translateY(-.5rem)",tooltip.style.position="absolute",tooltip.innerText=text,icon.onmouseover=function(){tooltip.style.visibility="visible"},icon.onmouseleave=function(){tooltip.style.visibility="hidden"},icon.appendChild(tooltip),icon},getFormInputDescription:function(text){var el=document.createElement("p");return el.classList.add("help-block"),el.innerHTML=text,el},getHeaderButtonHolder:function(){var el=this.getButtonHolder();return el.style.marginLeft="10px",el},getButtonHolder:function(){var el=document.createElement("div");return el.classList.add("btn-group"),el},getButton:function(text,icon,title){var el=this._super(text,icon,title);return el.classList.add("btn","btn-default"),el},getTable:function(){var el=document.createElement("table");return el.classList.add("table","table-bordered"),el.style.width="auto",el.style.maxWidth="none",el},addInputError:function(input,text){input.controlgroup?(input.controlgroup.classList.add("has-error"),input.errmsg?input.errmsg.style.display="":(input.errmsg=document.createElement("p"),input.errmsg.classList.add("help-block","errormsg"),input.controlgroup.appendChild(input.errmsg)),input.errmsg.textContent=text):this.queuedInputErrorText=text},removeInputError:function(input){input.controlgroup||delete this.queuedInputErrorText,input.errmsg&&(input.errmsg.style.display="none",input.controlgroup.classList.remove("has-error"))},getTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.innerHTML="<ul class='col-md-2 nav nav-pills nav-stacked' id='"+pName+"' role='tablist'></ul><div class='col-md-10 tab-content well well-small'  id='"+pName+"'></div>",el},getTopTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.innerHTML="<ul class='nav nav-tabs' id='"+pName+"' role='tablist'></ul><div class='tab-content well well-small'  id='"+pName+"'></div>",el},getTab:function(text,tabId){var li=document.createElement("li");li.setAttribute("role","presentation");var a=document.createElement("a");return a.setAttribute("href","#"+tabId),a.appendChild(text),a.setAttribute("aria-controls",tabId),a.setAttribute("role","tab"),a.setAttribute("data-toggle","tab"),li.appendChild(a),li},getTopTab:function(text,tabId){var li=document.createElement("li");li.setAttribute("role","presentation");var a=document.createElement("a");return a.setAttribute("href","#"+tabId),a.appendChild(text),a.setAttribute("aria-controls",tabId),a.setAttribute("role","tab"),a.setAttribute("data-toggle","tab"),li.appendChild(a),li},getTabContent:function(){var el=document.createElement("div");return el.classList.add("tab-pane"),el.setAttribute("role","tabpanel"),el},getTopTabContent:function(){var el=document.createElement("div");return el.classList.add("tab-pane"),el.setAttribute("role","tabpanel"),el},markTabActive:function(row){row.tab.classList.add("active"),void 0!==row.rowPane?row.rowPane.classList.add("active"):row.container.classList.add("active")},markTabInactive:function(row){row.tab.classList.remove("active"),void 0!==row.rowPane?row.rowPane.classList.remove("active"):row.container.classList.remove("active")},getProgressBar:function(){var container=document.createElement("div");container.classList.add("progress");var bar=document.createElement("div");return bar.classList.add("progress-bar"),bar.setAttribute("role","progressbar"),bar.setAttribute("aria-valuenow",0),bar.setAttribute("aria-valuemin",0),bar.setAttribute("aria-valuenax",100),bar.innerHTML="0%",container.appendChild(bar),container},updateProgressBar:function(progressBar,progress){if(progressBar){var bar=progressBar.firstChild,percentage=progress+"%";bar.setAttribute("aria-valuenow",progress),bar.style.width=percentage,bar.innerHTML=percentage}},updateProgressBarUnknown:function(progressBar){if(progressBar){var bar=progressBar.firstChild;progressBar.classList.add("progress","progress-striped","active"),bar.removeAttribute("aria-valuenow"),bar.style.width="100%",bar.innerHTML=""}},getInputGroup:function(input,buttons){if(input){var inputGroupContainer=document.createElement("div");inputGroupContainer.classList.add("input-group"),inputGroupContainer.appendChild(input);var inputGroup=document.createElement("div");inputGroup.classList.add("input-group-btn"),inputGroupContainer.appendChild(inputGroup);for(var i=0;i<buttons.length;i++)inputGroup.appendChild(buttons[i]);return inputGroupContainer}}}),JSONEditor.defaults.themes.bootstrap4=JSONEditor.AbstractTheme.extend({getSelectInput:function(options){var el=this._super(options);return el.classList.add("form-control"),el},setGridColumnSize:function(el,size){el.classList.add("col-md-"+size)},afterInputReady:function(input){input.controlgroup||(input.controlgroup=this.closest(input,".form-group"),this.closest(input,".compact")&&(input.controlgroup.style.marginBottom=0))},getTextareaInput:function(){var el=document.createElement("textarea");return el.classList.add("form-control"),el},getRangeInput:function(min,max,step){return this._super(min,max,step)},getFormInputField:function(type){var el=this._super(type);return"checkbox"!==type&&el.classList.add("form-control"),el},getFormControl:function(label,input,description){var group=document.createElement("div");return label&&"checkbox"===input.type?(group.classList.add("checkbox"),label.appendChild(input),label.style.fontSize="14px",group.style.marginTop="0",group.appendChild(label),input.style.position="relative",input.style.cssFloat="left"):(group.classList.add("form-group"),label&&(label.classList.add("form-control-label"),group.appendChild(label)),group.appendChild(input)),description&&group.appendChild(description),group},getIndentedPanel:function(){var el=document.createElement("div");return el.classList.add("card","card-body","bg-light"),el},getFormInputDescription:function(text){var el=document.createElement("p");return el.classList.add("form-text"),el.innerHTML=text,el},getHeaderButtonHolder:function(){var el=this.getButtonHolder();return el.style.marginLeft="10px",el},getButtonHolder:function(){var el=document.createElement("div");return el.classList.add("btn-group"),el},getButton:function(text,icon,title){var el=this._super(text,icon,title);return el.classList.add("btn","btn-secondary"),el},getTable:function(){var el=document.createElement("table");return el.classList.add("table-bordered","table-sm"),el.style.width="auto",el.style.maxWidth="none",el},addInputError:function(input,text){input.controlgroup&&(input.controlgroup.classList.add("has-danger"),input.classList.add("is-invalid"),input.errmsg?input.errmsg.style.display="":(input.errmsg=document.createElement("p"),input.errmsg.classList.add("form-text","invalid-feedback"),input.controlgroup.appendChild(input.errmsg)),input.errmsg.textContent=text)},removeInputError:function(input){input.errmsg&&(input.errmsg.style.display="none",input.classList.remove("is-invalid"),input.controlgroup.classList.remove("has-danger"))},getTabHolder:function(propertyName){var el=document.createElement("div"),pName=void 0===propertyName?"":propertyName;return el.innerHTML="<div class='col-md-2' id='"+pName+"'><ul class='nav flex-column nav-pills'></ul></div><div class='tab-content col-md-10' id='"+pName+"'></div>",el.classList.add("row"),el},addTab:function(holder,tab){holder.children[0].children[0].appendChild(tab)},getTopTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.innerHTML="<ul class='nav nav-tabs' id='"+pName+"'></ul><div class='card-body tab-content' id='"+pName+"'></div>",el},getTab:function(text,tabId){var liel=document.createElement("li");liel.classList.add("nav-item");var ael=document.createElement("a");return ael.classList.add("nav-link"),ael.setAttribute("style","padding:10px;"),ael.setAttribute("href","#"+tabId),ael.setAttribute("data-toggle","tab"),ael.appendChild(text),liel.appendChild(ael),liel},getTopTab:function(text,tabId){var el=document.createElement("li");el.classList.add("nav-item");var a=document.createElement("a");return a.classList.add("nav-link"),a.setAttribute("href","#"+tabId),a.setAttribute("data-toggle","tab"),a.appendChild(text),el.appendChild(a),el},getTabContent:function(){var el=document.createElement("div");return el.classList.add("tab-pane"),el.setAttribute("role","tabpanel"),el},getTopTabContent:function(){var el=document.createElement("div");return el.classList.add("tab-pane"),el.setAttribute("role","tabpanel"),el},markTabActive:function(row){row.tab.firstChild.classList.add("active"),void 0!==row.rowPane?row.rowPane.classList.add("active"):row.container.classList.add("active")},markTabInactive:function(row){row.tab.firstChild.classList.remove("active"),void 0!==row.rowPane?row.rowPane.classList.remove("active"):row.container.classList.remove("active")},getProgressBar:function(){var container=document.createElement("div");container.classList.add("progress");var bar=document.createElement("div");return bar.classList.add("progress-bar"),bar.setAttribute("role","progressbar"),bar.setAttribute("aria-valuenow",0),bar.setAttribute("aria-valuemin",0),bar.setAttribute("aria-valuenax",100),bar.innerHTML="0%",container.appendChild(bar),container},updateProgressBar:function(progressBar,progress){if(progressBar){var bar=progressBar.firstChild,percentage=progress+"%";bar.setAttribute("aria-valuenow",progress),bar.style.width=percentage,bar.innerHTML=percentage}},updateProgressBarUnknown:function(progressBar){if(progressBar){var bar=progressBar.firstChild;progressBar.classList.add("progress","progress-striped","active"),bar.removeAttribute("aria-valuenow"),bar.style.width="100%",bar.innerHTML=""}},getInputGroup:function(input,buttons){if(input){var inputGroupContainer=document.createElement("div");inputGroupContainer.classList.add("input-group"),inputGroupContainer.appendChild(input);var inputGroup=document.createElement("div");inputGroup.classList.add("input-group-prepend"),inputGroupContainer.appendChild(inputGroup);for(var i=0;i<buttons.length;i++)inputGroup.appendChild(buttons[i]);return inputGroupContainer}}}),JSONEditor.defaults.themes.foundation=JSONEditor.AbstractTheme.extend({getChildEditorHolder:function(){var el=document.createElement("div");return el.style.marginBottom="15px",el},getSelectInput:function(options){var el=this._super(options);return el.style.minWidth="none",el.style.padding="5px",el.style.marginTop="3px",el},getSwitcher:function(options){var el=this._super(options);return el.style.paddingRight="8px",el},afterInputReady:function(input){if(!input.group&&(this.closest(input,".compact")&&(input.style.marginBottom=0),input.group=this.closest(input,".form-control"),this.queuedInputErrorText)){var text=this.queuedInputErrorText;delete this.queuedInputErrorText,this.addInputError(input,text)}},getFormInputLabel:function(text){var el=this._super(text);return el.style.display="inline-block",el},getFormInputField:function(type){var el=this._super(type);return el.style.width="100%",el.style.marginBottom="checkbox"===type?"0":"12px",el},getFormInputDescription:function(text){var el=document.createElement("p");return el.textContent=text,el.style.marginTop="-10px",el.style.fontStyle="italic",el},getIndentedPanel:function(){var el=document.createElement("div");return el.classList.add("panel"),el.style.paddingBottom=0,el},getHeaderButtonHolder:function(){var el=this.getButtonHolder();return el.style.display="inline-block",el.style.marginLeft="10px",el.style.verticalAlign="middle",el},getButtonHolder:function(){var el=document.createElement("div");return el.classList.add("button-group"),el},getButton:function(text,icon,title){var el=this._super(text,icon,title);return el.classList.add("small","button"),el},addInputError:function(input,text){input.group?(input.group.classList.add("error"),input.errmsg?input.errmsg.style.display="":(input.insertAdjacentHTML("afterend",'<small class="error"></small>'),input.errmsg=input.parentNode.getElementsByClassName("error")[0]),input.errmsg.textContent=text):this.queuedInputErrorText=text},removeInputError:function(input){input.group||delete this.queuedInputErrorText,input.errmsg&&(input.group.classList.remove("error"),input.errmsg.style.display="none")},getProgressBar:function(){var progressBar=document.createElement("div");progressBar.classList.add("progress");var meter=document.createElement("span");return meter.classList.add("meter"),meter.style.width="0%",progressBar.appendChild(meter),progressBar},updateProgressBar:function(progressBar,progress){progressBar&&(progressBar.firstChild.style.width=progress+"%")},updateProgressBarUnknown:function(progressBar){progressBar&&(progressBar.firstChild.style.width="100%")},getInputGroup:function(input,buttons){if(!input)return undefined;var inputGroupContainer=document.createElement("div");inputGroupContainer.classList.add("input-group"),input.classList.add("input-group-field"),inputGroupContainer.appendChild(input);for(var i=0;i<buttons.length;i++){var inputGroup=document.createElement("div");inputGroup.classList.add("input-group-button"),inputGroup.style.verticalAlign="top",buttons[i].classList.remove("small"),inputGroup.appendChild(buttons[i]),inputGroupContainer.appendChild(inputGroup)}return inputGroupContainer}}),JSONEditor.defaults.themes.foundation3=JSONEditor.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var el=this._super();return el.style.fontSize=".6em",el},getFormInputLabel:function(text){var el=this._super(text);return el.style.fontWeight="bold",el},getTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.classList.add("row"),el.innerHTML='<dl class="tabs vertical two columns" id="'+pName+'"></dl><div class="tabs-content ten columns" id="'+pName+'"></div>',el},getTopTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.classList.add("row"),el.innerHTML='<dl class="tabs horizontal" style="padding-left: 10px; margin-left: 10px;" id="'+pName+'"></dl><div class="tabs-content twelve columns" style="padding: 10px; margin-left: 10px;" id="'+pName+'"></div>',el},setGridColumnSize:function(el,size){el.classList.add("columns",["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"][size])},getTab:function(text,tabId){var el=document.createElement("dd"),a=document.createElement("a");return a.setAttribute("href","#"+tabId),a.appendChild(text),el.appendChild(a),el},getTopTab:function(text,tabId){var el=document.createElement("dd"),a=document.createElement("a");return a.setAttribute("href","#"+tabId),a.appendChild(text),el.appendChild(a),el},getTabContentHolder:function(tab_holder){return tab_holder.children[1]},getTopTabContentHolder:function(tab_holder){return tab_holder.children[1]},getTabContent:function(){var el=document.createElement("div");return el.classList.add("content","active"),el.style.paddingLeft="5px",el},getTopTabContent:function(){var el=document.createElement("div");return el.classList.add("content","active"),el.style.paddingLeft="5px",el},markTabActive:function(row){row.tab.classList.add("active"),void 0!==row.rowPane?row.rowPane.style.display="":row.container.style.display=""},markTabInactive:function(row){row.tab.classList.remove("active"),void 0!==row.rowPane?row.rowPane.style.display="none":row.container.style.display="none"},addTab:function(holder,tab){holder.children[0].appendChild(tab)},addTopTab:function(holder,tab){holder.children[0].appendChild(tab)}}),JSONEditor.defaults.themes.foundation4=JSONEditor.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var el=this._super();return el.style.fontSize=".6em",el},setGridColumnSize:function(el,size){el.classList.add("columns","large-"+size)},getFormInputDescription:function(text){var el=this._super(text);return el.style.fontSize=".8rem",el},getFormInputLabel:function(text){var el=this._super(text);return el.style.fontWeight="bold",el}}),JSONEditor.defaults.themes.foundation5=JSONEditor.defaults.themes.foundation.extend({getFormInputDescription:function(text){var el=this._super(text);return el.style.fontSize=".8rem",el},setGridColumnSize:function(el,size){el.classList.add("columns","medium-"+size)},getButton:function(text,icon,title){var el=this._super(text,icon,title);return el.className=el.className.replace(/\s*small/g,"")+" tiny",el},getTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.innerHTML='<dl class="tabs vertical" id="'+pName+'"></dl><div class="tabs-content vertical" id="'+pName+'"></div>',el},getTopTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.classList.add("row"),el.innerHTML='<dl class="tabs horizontal" style="padding-left: 10px;" id="'+pName+'"></dl><div class="tabs-content horizontal" style="padding: 10px;" id="'+pName+'"></div>',el},getTab:function(text,tabId){var el=document.createElement("dd"),a=document.createElement("a");return a.setAttribute("href","#"+tabId),a.appendChild(text),el.appendChild(a),el},getTopTab:function(text,tabId){var el=document.createElement("dd"),a=document.createElement("a");return a.setAttribute("href","#"+tabId),a.appendChild(text),el.appendChild(a),el},getTabContentHolder:function(tab_holder){return tab_holder.children[1]},getTopTabContentHolder:function(tab_holder){return tab_holder.children[1]},getTabContent:function(){var el=document.createElement("div");return el.classList.add("tab-content","active"),el.style.paddingLeft="5px",el},getTopTabContent:function(){var el=document.createElement("div");return el.classList.add("tab-content","active"),el.style.paddingLeft="5px",el},markTabActive:function(row){row.tab.classList.add("active"),void 0!==row.rowPane?row.rowPane.style.display="":row.container.style.display=""},markTabInactive:function(row){row.tab.classList.remove("active"),void 0!==row.rowPane?row.rowPane.style.display="none":row.container.style.display="none"},addTab:function(holder,tab){holder.children[0].appendChild(tab)},addTopTab:function(holder,tab){holder.children[0].appendChild(tab)}}),JSONEditor.defaults.themes.foundation6=JSONEditor.defaults.themes.foundation5.extend({getIndentedPanel:function(){var el=document.createElement("div");return el.classList.add("callout","secondary"),el.style="padding-left: 10px; margin-left: 10px;",el},getButtonHolder:function(){var el=document.createElement("div");return el.classList.add("button-group","tiny"),el.style.marginBottom=0,el},getFormInputLabel:function(text){var el=this._super(text);return el.style.display="block",el},getFormControl:function(label,input,description,infoText){var el=document.createElement("div");return el.classList.add("form-control"),label&&el.appendChild(label),"checkbox"===input.type?label.insertBefore(input,label.firstChild):label?(infoText&&label.appendChild(infoText),label.appendChild(input)):(infoText&&el.appendChild(infoText),el.appendChild(input)),description&&label.appendChild(description),el},addInputError:function(input,text){if(input.group){if(input.group.classList.add("error"),input.errmsg)input.errmsg.style.display="",input.className="";else{var errorEl=document.createElement("span");errorEl.classList.add("form-error","is-visible"),input.group.getElementsByTagName("label")[0].appendChild(errorEl),input.classList.add("is-invalid-input"),input.errmsg=errorEl}input.errmsg.textContent=text}},removeInputError:function(input){input.errmsg&&(input.classList.remove("is-invalid-input"),input.errmsg.parentNode&&input.errmsg.parentNode.removeChild(input.errmsg))},getTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.classList.add("grid-x"),el.innerHTML='<div class="medium-2 cell" style="float: left;"><ul class="vertical tabs" data-tabs id="'+pName+'"></ul></div><div class="medium-10 cell" style="float: left;"><div class="tabs-content" data-tabs-content="'+pName+'"></div></div>',el},getTopTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.classList.add("grid-y"),el.innerHTML='<div className="cell"><ul class="tabs" data-tabs id="'+pName+'"></ul><div class="tabs-content" data-tabs-content="'+pName+'"></div></div>',el},insertBasicTopTab:function(tab,newTabs_holder){newTabs_holder.firstChild.firstChild.insertBefore(tab,newTabs_holder.firstChild.firstChild.firstChild)},getTab:function(text,tabId){var el=document.createElement("li");el.classList.add("tabs-title");var a=document.createElement("a");return a.setAttribute("href","#"+tabId),a.appendChild(text),el.appendChild(a),el},getTopTab:function(text,tabId){var el=document.createElement("li");el.classList.add("tabs-title");var a=document.createElement("a");return a.setAttribute("href","#"+tabId),a.appendChild(text),el.appendChild(a),el},getTabContentHolder:function(tab_holder){return tab_holder.children[1].firstChild},getTopTabContentHolder:function(tab_holder){return tab_holder.firstChild.children[1]},getTabContent:function(){var el=document.createElement("div");return el.classList.add("tabs-panel"),el.style.paddingLeft="5px",el},getTopTabContent:function(){var el=document.createElement("div");return el.classList.add("tabs-panel"),el.style.paddingLeft="5px",el},markTabActive:function(row){row.tab.classList.add("is-active"),row.tab.firstChild.setAttribute("aria-selected","true"),void 0!==row.rowPane?(row.rowPane.classList.add("is-active"),row.rowPane.setAttribute("aria-selected","true")):(row.container.classList.add("is-active"),row.container.setAttribute("aria-selected","true"))},markTabInactive:function(row){row.tab.classList.remove("is-active"),row.tab.firstChild.removeAttribute("aria-selected"),void 0!==row.rowPane?(row.rowPane.classList.remove("is-active"),row.rowPane.removeAttribute("aria-selected")):(row.container.classList.remove("is-active"),row.container.removeAttribute("aria-selected"))},addTab:function(holder,tab){holder.children[0].firstChild.appendChild(tab)},addTopTab:function(holder,tab){holder.firstChild.children[0].appendChild(tab)},getFirstTab:function(holder){return holder.firstChild.firstChild.firstChild}}),JSONEditor.defaults.themes.html=JSONEditor.AbstractTheme.extend({getFormInputLabel:function(text){var el=this._super(text);return el.style.display="block",el.style.marginBottom="3px",el.style.fontWeight="bold",el},getFormInputDescription:function(text){var el=this._super(text);return el.style.fontSize=".8em",el.style.margin=0,el.style.display="inline-block",el.style.fontStyle="italic",el},getIndentedPanel:function(){var el=this._super();return el.style.border="1px solid #ddd",el.style.padding="5px",el.style.margin="10px",el.style.borderRadius="3px",el},getTopIndentedPanel:function(){return this.getIndentedPanel()},getChildEditorHolder:function(){var el=this._super();return el.style.marginBottom="8px",el},getHeaderButtonHolder:function(){var el=this.getButtonHolder();return el.style.display="inline-block",el.style.marginLeft="10px",el.style.fontSize=".8em",el.style.verticalAlign="middle",el},getTable:function(){var el=this._super();return el.style.borderBottom="1px solid #ccc",el.style.marginBottom="5px",el},addInputError:function(input,text){if(input.style.borderColor="red",input.errmsg)input.errmsg.style.display="block";else{var group=this.closest(input,".form-control");input.errmsg=document.createElement("div"),input.errmsg.setAttribute("class","errmsg"),input.errmsg.style=input.errmsg.style||{},input.errmsg.style.color="red",group.appendChild(input.errmsg)}input.errmsg.innerHTML="",input.errmsg.appendChild(document.createTextNode(text))},removeInputError:function(input){input.style.borderColor="",input.errmsg&&(input.errmsg.style.display="none")},getProgressBar:function(){var progressBar=document.createElement("progress");return progressBar.setAttribute("max",100),progressBar.setAttribute("value",0),progressBar},updateProgressBar:function(progressBar,progress){progressBar&&progressBar.setAttribute("value",progress)},updateProgressBarUnknown:function(progressBar){progressBar&&progressBar.removeAttribute("value")}}),JSONEditor.defaults.themes.jqueryui=JSONEditor.AbstractTheme.extend({getTable:function(){var el=this._super();return el.setAttribute("cellpadding",5),el.setAttribute("cellspacing",0),el},getTableHeaderCell:function(text){var el=this._super(text);return el.classList.add("ui-state-active"),el.style.fontWeight="bold",el},getTableCell:function(){var el=this._super();return el.classList.add("ui-widget-content"),el},getHeaderButtonHolder:function(){var el=this.getButtonHolder();return el.style.marginLeft="10px",el.style.fontSize=".6em",el.style.display="inline-block",el},getFormInputDescription:function(text){var el=this.getDescription(text);return el.style.marginLeft="10px",el.style.display="inline-block",el},getFormControl:function(label,input,description,infoText){var el=this._super(label,input,description,infoText);return"checkbox"===input.type?(el.style.lineHeight="25px",el.style.padding="3px 0"):el.style.padding="4px 0 8px 0",el},getDescription:function(text){var el=document.createElement("span");return el.style.fontSize=".8em",el.style.fontStyle="italic",el.textContent=text,el},getButtonHolder:function(){var el=document.createElement("div");return el.classList.add("ui-buttonset"),el.style.fontSize=".7em",el},getFormInputLabel:function(text){var el=document.createElement("label");return el.style.fontWeight="bold",el.style.display="block",el.textContent=text,el},getButton:function(text,icon,title){var button=document.createElement("button");button.classList.add("ui-button","ui-widget","ui-state-default","ui-corner-all"),icon&&!text?(button.classList.add("ui-button-icon-only"),icon.classList.add("ui-button-icon-primary","ui-icon-primary"),button.appendChild(icon)):icon?(button.classList.add("ui-button-text-icon-primary"),icon.classList.add("ui-button-icon-primary","ui-icon-primary"),button.appendChild(icon)):button.classList.add("ui-button-text-only");var el=document.createElement("span");return el.classList.add("ui-button-text"),el.textContent=text||title||".",button.appendChild(el),button.setAttribute("title",title),button},setButtonText:function(button,text,icon,title){button.innerHTML="",button.classList.add("ui-button","ui-widget","ui-state-default","ui-corner-all"),icon&&!text?(button.classList.add("ui-button-icon-only"),icon.classList.add("ui-button-icon-primary","ui-icon-primary"),button.appendChild(icon)):icon?(button.classList.add("ui-button-text-icon-primary"),icon.classList.add("ui-button-icon-primary","ui-icon-primary"),button.appendChild(icon)):button.classList.add("ui-button-text-only");var el=document.createElement("span");el.classList.add("ui-button-text"),el.textContent=text||title||".",button.appendChild(el),button.setAttribute("title",title)},getIndentedPanel:function(){var el=document.createElement("div");return el.classList.add("ui-widget-content","ui-corner-all"),el.style.padding="1em 1.4em",el.style.marginBottom="20px",el},afterInputReady:function(input){if(!input.controls&&(input.controls=this.closest(input,".form-control"),this.queuedInputErrorText)){var text=this.queuedInputErrorText;delete this.queuedInputErrorText,this.addInputError(input,text)}},addInputError:function(input,text){input.controls?(input.errmsg?input.errmsg.style.display="":(input.errmsg=document.createElement("div"),input.errmsg.classList.add("ui-state-error"),input.controls.appendChild(input.errmsg)),input.errmsg.textContent=text):this.queuedInputErrorText=text},removeInputError:function(input){input.controls||delete this.queuedInputErrorText,input.errmsg&&(input.errmsg.style.display="none")},markTabActive:function(row){row.tab.classList.remove("ui-widget-header"),row.tab.classList.add("ui-state-active"),void 0!==row.rowPane?row.rowPane.style.display="":row.container.style.display=""},markTabInactive:function(row){row.tab.classList.add("ui-widget-header"),row.tab.classList.remove("ui-state-active"),void 0!==row.rowPane?row.rowPane.style.display="none":row.container.style.display="none"}}),JSONEditor.defaults.themes.barebones=JSONEditor.AbstractTheme.extend({getFormInputLabel:function(text){return this._super(text)},getFormInputDescription:function(text){return this._super(text)},getIndentedPanel:function(){return this._super()},getChildEditorHolder:function(){return this._super()},getHeaderButtonHolder:function(){return this.getButtonHolder()},getTable:function(){return this._super()},addInputError:function(input,text){if(input.errmsg)input.errmsg.style.display="block";else{var group=this.closest(input,".form-control");input.errmsg=document.createElement("div"),input.errmsg.setAttribute("class","errmsg"),group.appendChild(input.errmsg)}input.errmsg.innerHTML="",input.errmsg.appendChild(document.createTextNode(text))},removeInputError:function(input){input.style.borderColor="",input.errmsg&&(input.errmsg.style.display="none")},getProgressBar:function(){var progressBar=document.createElement("progress");return progressBar.setAttribute("max",100),progressBar.setAttribute("value",0),progressBar},updateProgressBar:function(progressBar,progress){progressBar&&progressBar.setAttribute("value",progress)},updateProgressBarUnknown:function(progressBar){progressBar&&progressBar.removeAttribute("value")}}),JSONEditor.defaults.themes.materialize=JSONEditor.AbstractTheme.extend({setGridColumnSize:function(el,size){el.classList.add("col"),el.classList.add("s"+size)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("span")},getButton:function(text,icon,title){text&&(icon.classList.add("left"),icon.style.marginRight="5px");var el=this._super(text,icon,title);return el.classList.add("waves-effect","waves-light","btn"),el.style.fontSize="0.75rem",el.style.height="24px",el.style.lineHeight="24px",el.style.marginLeft="5px",el.style.padding="0 0.5rem",el},getFormControl:function(label,input,description,infoText){var ctrl,type=input.type;if(type&&"checkbox"===type){if(ctrl=document.createElement("p"),label){var span=document.createElement("span");span.innerHTML=label.innerHTML,label.innerHTML="",label.setAttribute("for",input.id),ctrl.appendChild(label),label.appendChild(input),label.appendChild(span)}else ctrl.appendChild(input);return ctrl}return ctrl=this._super(label,input,description,infoText),type&&type.startsWith("select")||ctrl.classList.add("input-field"),type&&"color"===type&&(input.style.height="3rem",input.style.width="100%",input.style.margin="5px 0 20px 0",input.style.padding="3px",label&&(label.style.transform="translateY(-14px) scale(0.8)",label.style["-webkit-transform"]="translateY(-14px) scale(0.8)",label.style["-webkit-transform-origin"]="0 0",label.style["transform-origin"]="0 0")),ctrl},getDescription:function(text){var el=document.createElement("div");return el.classList.add("grey-text"),el.style.marginTop="-15px",el.innerHTML=text,el},getHeader:function(text){var el=document.createElement("h5");return"string"==typeof text?el.textContent=text:el.appendChild(text),el},getChildEditorHolder:function(){var el=document.createElement("div");return el.marginBottom="10px",el},getIndentedPanel:function(){var el=document.createElement("div");return el.classList.add("card-panel"),el},getTable:function(){var el=document.createElement("table");return el.classList.add("striped","bordered"),el.style.marginBottom="10px",el},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},getTableHeaderCell:function(text){var el=document.createElement("th");return el.textContent=text,el},getTableCell:function(){return document.createElement("td")},getTabHolder:function(){var html=['<div class="col s2">','   <ul class="tabs" style="height: auto; margin-top: 0.82rem; -ms-flex-direction: column; -webkit-flex-direction: column; flex-direction: column; display: -webkit-flex; display: flex;">',"   </ul>","</div>",'<div class="col s10">',"<div>"].join("\n"),el=document.createElement("div");return el.classList.add("row","card-panel"),el.innerHTML=html,el},addTab:function(holder,tab){holder.children[0].children[0].appendChild(tab)},getTab:function(span){var el=document.createElement("li");return el.classList.add("tab"),el.style=el.style||{},this.applyStyles(el,{width:"100%",textAlign:"left",lineHeight:"24px",height:"24px",fontSize:"14px",cursor:"pointer"}),el.appendChild(span),el},markTabActive:function(tab){tab.style=tab.style||{},this.applyStyles(tab,{width:"100%",textAlign:"left",lineHeight:"24px",height:"24px",fontSize:"14px",cursor:"pointer",color:"rgba(238,110,115,1)",transition:"border-color .5s ease",borderRight:"3px solid #424242"})},markTabInactive:function(tab){tab.style=tab.style||{},this.applyStyles(tab,{width:"100%",textAlign:"left",lineHeight:"24px",height:"24px",fontSize:"14px",cursor:"pointer",color:"rgba(238,110,115,0.7)"})},getTabContentHolder:function(tabHolder){return tabHolder.children[1]},getTabContent:function(){return document.createElement("div")},addInputError:function(input,text){var el,parent=input.parentNode;parent&&(this.removeInputError(input),(el=document.createElement("div")).classList.add("error-text","red-text"),el.textContent=text,parent.appendChild(el))},removeInputError:function(input){var els,parent=input.parentElement;if(parent){els=parent.getElementsByClassName("error-text");for(var i=0;i<els.length;i++)parent.removeChild(els[i])}},addTableRowError:function(row){},removeTableRowError:function(row){},getSelectInput:function(options){var select=this._super(options);return select.classList.add("browser-default"),select},getTextareaInput:function(){var el=document.createElement("textarea");return el.style.marginBottom="5px",el.style.fontSize="1rem",el.style.fontFamily="monospace",el},getCheckbox:function(){var el=this.getFormInputField("checkbox");return el.id=this.createUuid(),el},getModal:function(){var el=document.createElement("div");return el.classList.add("card-panel","z-depth-3"),el.style.padding="5px",el.style.position="absolute",el.style.zIndex="10",el.style.display="none",el},createUuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"==c?r:3&r|8).toString(16)})}}),JSONEditor.AbstractIconLib=Class.extend({mapping:{collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},icon_prefix:"",getIconClass:function(key){return this.mapping[key]?this.icon_prefix+this.mapping[key]:null},getIcon:function(key){var iconclass=this.getIconClass(key);if(!iconclass)return null;var i=document.createElement("i");return i.classList.add.apply(i.classList,iconclass.split(" ")),i}}),JSONEditor.defaults.iconlibs.bootstrap2=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-up",delete:"trash",edit:"pencil",add:"plus",cancel:"ban-circle",save:"ok",moveup:"arrow-up",movedown:"arrow-down",clear:"remove-circle",time:"time",calendar:"calendar"},icon_prefix:"icon-"}),JSONEditor.defaults.iconlibs.bootstrap3=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",movedown:"arrow-down",clear:"remove-circle",time:"time",calendar:"calendar"},icon_prefix:"glyphicon glyphicon-"}),JSONEditor.defaults.iconlibs.fontawesome3=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"ban-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down",clear:"remove-circle",time:"time",calendar:"calendar"},icon_prefix:"icon-"}),JSONEditor.defaults.iconlibs.fontawesome4=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"caret-square-o-down",expand:"caret-square-o-right",delete:"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down",copy:"files-o",clear:"times-circle-o",time:"clock-o",calendar:"calendar"},icon_prefix:"fa fa-"}),JSONEditor.defaults.iconlibs.fontawesome5=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"caret-down",expand:"caret-right",delete:"times",edit:"pen",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down",copy:"copy",clear:"times-circle",time:"clock",calendar:"calendar"},icon_prefix:"fas fa-"}),JSONEditor.defaults.iconlibs.foundation2=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"remove",edit:"edit",add:"add-doc",cancel:"error",save:"checkmark",moveup:"up-arrow",movedown:"down-arrow",clear:"remove",time:"clock",calendar:"calendar"},icon_prefix:"foundicon-"}),JSONEditor.defaults.iconlibs.foundation3=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"x",edit:"pencil",add:"page-add",cancel:"x-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down",clear:"x-circle",time:"clock",calendar:"calendar"},icon_prefix:"fi-"}),JSONEditor.defaults.iconlibs.jqueryui=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"triangle-1-s",expand:"triangle-1-e",delete:"trash",edit:"pencil",add:"plusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",movedown:"arrowthick-1-s",clear:"circle-close",time:"time",calendar:"calendar"},icon_prefix:"ui-icon ui-icon-"}),JSONEditor.defaults.iconlibs.materialicons=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"arrow_drop_up",expand:"arrow_drop_down",delete:"delete",edit:"edit",add:"add",cancel:"cancel",save:"save",moveup:"arrow_upward",movedown:"arrow_downward",copy:"content_copy",clear:"highlight_off",time:"access_time",calendar:"calendar_today",upload:"cloud_upload"},icon_class:"material-icons",icon_prefix:"",getIconClass:function(key){return this.icon_class},getIcon:function(key){var mapping=this.mapping[key];if(!mapping)return null;var i=document.createElement("i");i.classList.add(this.icon_class);var t=document.createTextNode(mapping);return i.appendChild(t),i}}),JSONEditor.defaults.templates.default=function(){return{compile:function(template){var matches=template.match(/{{\s*([a-zA-Z0-9\-_ \.]+)\s*}}/g),l=matches&&matches.length;if(!l)return function(){return template};for(var replacements=[],get_replacement=function(i){var func,cur,p=matches[i].replace(/[{}]+/g,"").trim().split("."),n=p.length;n>1?func=function(vars){for(cur=vars,i=0;i<n&&(cur=cur[p[i]]);i++);return cur}:(p=p[0],func=function(vars){return vars[p]}),replacements.push({s:matches[i],r:func})},i=0;i<l;i++)get_replacement(i);return function(vars){var r,ret=template+"";for(i=0;i<l;i++)r=replacements[i],ret=ret.replace(r.s,r.r(vars));return ret}}}},JSONEditor.defaults.templates.ejs=function(){return!!window.EJS&&{compile:function(template){var compiled=new window.EJS({text:template});return function(context){return compiled.render(context)}}}},JSONEditor.defaults.templates.handlebars=function(){return window.Handlebars},JSONEditor.defaults.templates.hogan=function(){return!!window.Hogan&&{compile:function(template){var compiled=window.Hogan.compile(template);return function(context){return compiled.render(context)}}}},JSONEditor.defaults.templates.lodash=function(){return!!window._&&{compile:function(template){return function(context){return window._.template(template)(context)}}}},JSONEditor.defaults.templates.markup=function(){return!(!window.Mark||!window.Mark.up)&&{compile:function(template){return function(context){return window.Mark.up(template,context)}}}},JSONEditor.defaults.templates.mustache=function(){return!!window.Mustache&&{compile:function(template){return function(view){return window.Mustache.render(template,view)}}}},JSONEditor.defaults.templates.swig=function(){return window.swig},JSONEditor.defaults.templates.underscore=function(){return!!window._&&{compile:function(template){return function(context){return window._.template(template,context)}}}},JSONEditor.defaults.theme="html",JSONEditor.defaults.template="default",JSONEditor.defaults.options={},JSONEditor.defaults.options.prompt_before_delete=!0,JSONEditor.defaults.options.upload=function(type,file,cbs){console.log("Upload handler required for upload editor")},JSONEditor.defaults.translate=function(key,variables){var lang=JSONEditor.defaults.languages[JSONEditor.defaults.language];if(!lang)throw"Unknown language "+JSONEditor.defaults.language;var string=lang[key]||JSONEditor.defaults.languages[JSONEditor.defaults.default_language][key];if(void 0===string)throw"Unknown translate string "+key;if(variables)for(var i=0;i<variables.length;i++)string=string.replace(new RegExp("\\{\\{"+i+"}}","g"),variables[i]);return string},JSONEditor.defaults.default_language="en",JSONEditor.defaults.language=JSONEditor.defaults.default_language,JSONEditor.defaults.languages.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_dependency:"Must have property {{0}}",error_date:"Date must be in the format {{0}}",error_time:"Time must be in the format {{0}}",error_datetime_local:"Datetime must be in the format {{0}}",error_invalid_epoch:"Date must be greater than 1 January 1970",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_collapse:"Collapse",button_expand:"Expand",flatpickr_toggle_button:"Toggle",flatpickr_clear_button:"Clear"},JSONEditor.plugins={ace:{theme:""},SimpleMDE:{},sceditor:{},select2:{},selectize:{}},$each(JSONEditor.defaults.editors,function(i,editor){JSONEditor.defaults.editors[i].options=editor.options||{}}),JSONEditor.defaults.resolvers.unshift(function(schema){if("string"!=typeof schema.type)return"multiple"}),JSONEditor.defaults.resolvers.unshift(function(schema){if(!schema.type&&schema.properties)return"object"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("string"==typeof schema.type)return schema.type}),JSONEditor.defaults.resolvers.unshift(function(schema){if("string"===schema.type&&"signature"===schema.format)return"signature"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("integer"===schema.type&&"rating"===schema.format)return"rating"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("boolean"===schema.type)return"checkbox"===schema.format||schema.options&&schema.options.checkbox?"checkbox":JSONEditor.plugins.selectize.enable?"selectize":"select"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("any"===schema.type)return"multiple"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("string"===schema.type&&schema.media&&"base64"===schema.media.binaryEncoding)return"base64"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("string"===schema.type&&"url"===schema.format&&schema.options&&!0===schema.options.upload&&window.FileReader)return"upload"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("array"===schema.type&&"table"===schema.format)return"table"}),JSONEditor.defaults.resolvers.unshift(function(schema){if(schema.enumSource)return JSONEditor.plugins.selectize.enable?"selectize":"select"}),JSONEditor.defaults.resolvers.unshift(function(schema){if(schema.enum){if("array"===schema.type||"object"===schema.type)return"enum";if("number"===schema.type||"integer"===schema.type||"string"===schema.type)return JSONEditor.plugins.selectize.enable?"selectize":"select"}}),JSONEditor.defaults.resolvers.unshift(function(schema){if("array"===schema.type&&schema.items&&!Array.isArray(schema.items)&&schema.uniqueItems&&["string","number","integer"].indexOf(schema.items.type)>=0){if(schema.items.enum)return"multiselect";if(JSONEditor.plugins.selectize.enable&&"string"===schema.items.type)return"arraySelectize"}}),JSONEditor.defaults.resolvers.unshift(function(schema){if(schema.oneOf||schema.anyOf)return"multiple"}),JSONEditor.defaults.resolvers.unshift(function(schema){if(-1!==["string","integer"].indexOf(schema.type)&&-1!==["date","time","datetime-local"].indexOf(schema.format))return"datetime"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("string"===schema.type&&"starrating"===schema.format)return"starrating"}),function(){if(window.jQuery||window.Zepto){var $=window.jQuery||window.Zepto;$.jsoneditor=JSONEditor.defaults,$.fn.jsoneditor=function(options){var self=this,editor=this.data("jsoneditor");if("value"===options){if(!editor)throw"Must initialize jsoneditor before getting/setting the value";if(!(arguments.length>1))return editor.getValue();editor.setValue(arguments[1])}else{if("validate"===options){if(!editor)throw"Must initialize jsoneditor before validating";return arguments.length>1?editor.validate(arguments[1]):editor.validate()}"destroy"===options?editor&&(editor.destroy(),this.data("jsoneditor",null)):(editor&&editor.destroy(),editor=new JSONEditor(this.get(0),options),this.data("jsoneditor",editor),editor.on("change",function(){self.trigger("change")}),editor.on("ready",function(){self.trigger("ready")}))}return this}}}(),JSONEditor}();null!=module&&module.exports?module.exports=JSONEditor:void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return JSONEditor}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}("undefined"!=typeof window&&window)}).call(this,__webpack_require__(/*! ./../../../webpack/buildin/module.js */"./node_modules/webpack/buildin/module.js")(module))},"./node_modules/vue-loader/lib/index.js?!./src/components/localbadges-ui.vue?vue&type=script&lang=js&":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib??vue-loader-options!./src/components/localbadges-ui.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _json_editor_json_editor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! @json-editor/json-editor */"./node_modules/@json-editor/json-editor/dist/jsoneditor.js"),_json_editor_json_editor__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_json_editor_json_editor__WEBPACK_IMPORTED_MODULE_0__);let uid=0;_json_editor_json_editor__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.themes.localbadges=_json_editor_json_editor__WEBPACK_IMPORTED_MODULE_0___default.a.AbstractTheme.extend({getButton:function(text,icon,title){var el=document.createElement("button");return el.type="button",this.setButtonText(el,text,icon,title),el.classList.add("tw-button"),el.classList.add("tw-mg-x-05"),el.classList.add("tw-pd-x-05"),el},getCheckbox:function(){var el=this.getFormInputField("checkbox");return el.classList.add("tw-checkbox__input"),el},getCheckboxLabel:function(text){var el=this.getFormInputLabel(text);return el.classList.add("tw-checkbox__label"),el.style.fontWeight="normal",el},getChildEditorHolder:function(){var el=this._super();return el.style.marginBottom="8px",el},getFormControl:function(label,input,description,infoText){var el=document.createElement("div");if(el.classList.add("tw-mg-l-1"),el.classList.add("tw-flex"),el.classList.add("tw-align-items-center"),label&&el.appendChild(label),"checkbox"===input.type&&label){el.classList.add("tw-checkbox"),el.insertBefore(input,el.firstChild),infoText&&label.appendChild(infoText);let id="localbadges-ui-"+uid++;input.id=id,label.htmlFor=id}else infoText&&label.appendChild(infoText),el.appendChild(input);return description&&el.appendChild(description),el},getFormInputField:function(type){var el=document.createElement("input");return el.setAttribute("type",type),el.classList.add("tw-input"),el.classList.add("tw-font-size-6"),el.classList.add("tw-pd-x-1"),el.classList.add("tw-pd-y-05"),el.classList.add("tw-border-radius-medium"),el},getFormInputLabel:function(text){var el=this._super(text);return el.style.display="inline",el},getFormInputDescription:function(text){var el=this._super(text);return el.style.fontSize=".8em",el.style.margin=0,el.style.display="inline-block",el.style.fontStyle="italic",el},getGridRow:function(){var el=document.createElement("div");return el.classList.add("ffz--widget"),el.classList.add("tw-mg-b-05"),el},getHeader:function(text){var el=document.createElement("div");return el.classList.add("tw-mg-l-1"),"string"==typeof text?el.textContent=text:el.appendChild(text),el},getHeaderButtonHolder:function(){var el=this.getButtonHolder();return el.style.display="inline-block",el.style.fontSize="tw-font-size-6",el.style.verticalAlign="middle",el},getIndentedPanel:function(){var el=this._super();return el.classList.add("tw-border-l"),el.classList.add("tw-pd-l-05"),el.classList.add("tw-pd-t-05"),el.classList.add("tw-pd-b-05"),el.classList.add("tw-mg-l-1"),el.classList.add("tw-mg-t-1"),el.classList.add("tw-mg-b-1"),el},getTopIndentedPanel:function(){return this.getIndentedPanel()},getTab:function(span,tabId){var el=document.createElement("div");return el.appendChild(span),el.id=tabId,el.style=el.style||{},this.applyStyles(el,{border:"1px solid var(--color-twitch-purple-8)",borderWidth:"1px 0 1px 1px",marginBottom:"-1px",textAlign:"center",lineHeight:"30px",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden"}),el},getTopTab:function(span,tabId){var el=document.createElement("div");return el.id=tabId,el.appendChild(span),el.style=el.style||{},this.applyStyles(el,{float:"left",border:"1px solid var(--color-twitch-purple-8)",borderWidth:"1px 1px 1px 1px",textAlign:"center",marginLeft:"-1px",lineHeight:"30px",minWidth:"50px",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden"}),el.classList.add("tw-pd-x-05"),el},getTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.innerHTML=`\n<div style='float: left; width: 130px;' class='tabs' id='${pName}'></div>\n<div class='content' style='margin-left: 120px;' id='${pName}'></div>\n<div style='clear:both;'></div>`,el},getTopTabHolder:function(propertyName){var pName=void 0===propertyName?"":propertyName,el=document.createElement("div");return el.innerHTML=`\n<div class='tabs' style='margin-left: 10px' id='${pName}'></div>\n<div style='clear:both;'></div><div class='content' id='${pName}'></div>`,el},markTabActive:function(row){this.applyStyles(row.tab,{background:"var(--color-twitch-purple-8)",color:"#fff"}),void 0!==row.rowPane?row.rowPane.style.display="":row.container.style.display=""},markTabInactive:function(row){this.applyStyles(row.tab,{background:"",color:""}),void 0!==row.rowPane?row.rowPane.style.display="none":row.container.style.display="none"},getTable:function(){var el=this._super();return el.classList.add("tw-mg-b-05"),el},getSelectInput:function(options){var select=document.createElement("select");return options&&this.setSelectOptions(select,options),select.classList.add("tw-select"),select.classList.add("tw-border-radius-medium"),select},getSwitcher:function(options){var switcher=this.getSelectInput(options);return switcher.style.display="inline-block",switcher.style.fontStyle="italic",switcher.style.fontWeight="normal",switcher.style.height="auto",switcher.style.marginBottom=0,switcher.style.marginLeft="5px",switcher.style.padding="0 0 0 3px",switcher.style.width="auto",switcher},getModal:function(){var el=document.createElement("div");return el.classList.add("tw-c-background-body"),el.style.border="1px solid black",el.style.position="absolute",el.style.zIndex="10",el.style.display="none",el},addInputError:function(input,text){if(input.style.borderColor="red",input.errmsg)input.errmsg.style.display="block";else{var group=this.closest(input,".form-control");input.errmsg=document.createElement("div"),input.errmsg.setAttribute("class","errmsg"),input.errmsg.style=input.errmsg.style||{},input.errmsg.style.color="red",group.appendChild(input.errmsg)}input.errmsg.innerHTML="",input.errmsg.appendChild(document.createTextNode(text))},removeInputError:function(input){input.style.borderColor="",input.errmsg&&(input.errmsg.style.display="none")},getProgressBar:function(){var progressBar=document.createElement("progress");return progressBar.setAttribute("max",100),progressBar.setAttribute("value",0),progressBar},updateProgressBar:function(progressBar,progress){progressBar&&progressBar.setAttribute("value",progress)},updateProgressBarUnknown:function(progressBar){progressBar&&progressBar.removeAttribute("value")}}),__webpack_exports__.default={mixins:[ffz.resolve("main_menu").Mixin],props:["item","context",""],data:()=>({id:null}),mounted(){const el=this.$refs.editor;this.editor=new _json_editor_json_editor__WEBPACK_IMPORTED_MODULE_0___default.a(el,{theme:"localbadges",schema:this.item.schema,startval:JSON.parse(this.value),collasped:!0,disable_edit_json:!0,disable_array_reorder:!0,disable_array_delete_last_row:!0,disable_array_delete_all_rows:!0,prompt_before_delete:!1}),this.editor.on("change",()=>{this.set(JSON.stringify(this.editor.getValue()))})},beforeDestroy(){this.editor.destroy()}}},"./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/components/localbadges-ui.vue?vue&type=template&id=641a1856&lang=html&":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./src/components/localbadges-ui.vue?vue&type=template&id=641a1856&lang=html& ***!
  \******************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"render",function(){return render}),__webpack_require__.d(__webpack_exports__,"staticRenderFns",function(){return staticRenderFns});var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"tw-border-b tw-mg-b-1 tw-pd-b-1"},[_c("h2",[_vm._v(_vm._s(_vm.item.title))]),_vm._v(" "),_c("p",[_vm._v(_vm._s(_vm.item.description))])]),_vm._v(" "),_c("div",{ref:"editor"})])},staticRenderFns=[];render._withStripped=!0},"./node_modules/vue-loader/lib/runtime/componentNormalizer.js":
/*!********************************************************************!*\
  !*** ./node_modules/vue-loader/lib/runtime/componentNormalizer.js ***!
  \********************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";function normalizeComponent(scriptExports,render,staticRenderFns,functionalTemplate,injectStyles,scopeId,moduleIdentifier,shadowMode){var hook,options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(render&&(options.render=render,options.staticRenderFns=staticRenderFns,options._compiled=!0),functionalTemplate&&(options.functional=!0),scopeId&&(options._scopeId="data-v-"+scopeId),moduleIdentifier?(hook=function(context){(context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),injectStyles&&injectStyles.call(this,context),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):injectStyles&&(hook=shadowMode?function(){injectStyles.call(this,this.$root.$options.shadowRoot)}:injectStyles),hook)if(options.functional){options._injectStyles=hook;var originalRender=options.render;options.render=function renderWithStyleInjection(h,context){return hook.call(context),originalRender(h,context)}}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return{exports:scriptExports,options:options}}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return normalizeComponent})},"./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},"./src/components/localbadges-ui.vue":
/*!*******************************************!*\
  !*** ./src/components/localbadges-ui.vue ***!
  \*******************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _localbadges_ui_vue_vue_type_template_id_641a1856_lang_html___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./localbadges-ui.vue?vue&type=template&id=641a1856&lang=html& */"./src/components/localbadges-ui.vue?vue&type=template&id=641a1856&lang=html&"),_localbadges_ui_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./localbadges-ui.vue?vue&type=script&lang=js& */"./src/components/localbadges-ui.vue?vue&type=script&lang=js&"),_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */"./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),component=Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.default)(_localbadges_ui_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,_localbadges_ui_vue_vue_type_template_id_641a1856_lang_html___WEBPACK_IMPORTED_MODULE_0__.render,_localbadges_ui_vue_vue_type_template_id_641a1856_lang_html___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,!1,null,null,null);component.options.__file="src/components/localbadges-ui.vue",__webpack_exports__.default=component.exports},"./src/components/localbadges-ui.vue?vue&type=script&lang=js&":
/*!********************************************************************!*\
  !*** ./src/components/localbadges-ui.vue?vue&type=script&lang=js& ***!
  \********************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_vue_loader_lib_index_js_vue_loader_options_localbadges_ui_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! -!../../node_modules/vue-loader/lib??vue-loader-options!./localbadges-ui.vue?vue&type=script&lang=js& */"./node_modules/vue-loader/lib/index.js?!./src/components/localbadges-ui.vue?vue&type=script&lang=js&");__webpack_exports__.default=_node_modules_vue_loader_lib_index_js_vue_loader_options_localbadges_ui_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default},"./src/components/localbadges-ui.vue?vue&type=template&id=641a1856&lang=html&":
/*!************************************************************************************!*\
  !*** ./src/components/localbadges-ui.vue?vue&type=template&id=641a1856&lang=html& ***!
  \************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_localbadges_ui_vue_vue_type_template_id_641a1856_lang_html___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! -!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/vue-loader/lib??vue-loader-options!./localbadges-ui.vue?vue&type=template&id=641a1856&lang=html& */"./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/components/localbadges-ui.vue?vue&type=template&id=641a1856&lang=html&");__webpack_require__.d(__webpack_exports__,"render",function(){return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_localbadges_ui_vue_vue_type_template_id_641a1856_lang_html___WEBPACK_IMPORTED_MODULE_0__.render}),__webpack_require__.d(__webpack_exports__,"staticRenderFns",function(){return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_localbadges_ui_vue_vue_type_template_id_641a1856_lang_html___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns})},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */function(module,exports,__webpack_require__){(class extends FrankerFaceZ.utilities.addon.Addon{constructor(...args){super(...args),this.load_requires=["vue"],this.inject("settings"),this.inject("vue"),this.inject("chat"),this.inject("chat.badges"),this.badge_uid=0,this.badge_ids=[],this.badge_list=[]}onEnable(){this.vue.component("localbadges-ui",__webpack_require__(/*! ./components/localbadges-ui.vue */"./src/components/localbadges-ui.vue").default),this.settings.add("localbadges.badges",{default:'[{"title":"Example Badge","color":"#6441a4","image":"https://theessenceofdarkness.github.io/LocalBadges/res/subscriber.svg","slot":9,"users":["kappa","twitch"]}]',ui:{path:"Add-Ons > Local Badges > Custom Badges",title:"Custom Badges",description:"Define your custom badges here",component:"localbadges-ui",schema:__webpack_require__(/*! ./schema/badges.json */"./src/schema/badges.json")}}),this.settings.add("localbadges.users",{default:'[{"nick":"theessenceofdarkness","badges":[{"title":"LocalBadges Developer","color":"#5c9bfe","image":"https://theessenceofdarkness.github.io/LocalBadges/res/devbadge.png","slot":12}]}]',ui:{path:"Add-Ons > Local Badges > User Specific Badges",title:"User Specific Badges",description:"Define badges that are specific to users here. Note: This is a hack so expect some bugs.",component:"localbadges-ui",schema:__webpack_require__(/*! ./schema/users.json */"./src/schema/users.json")}});var css=document.createElement("style");css.type="text/css",css.innerHTML='.ffz-badge[data-badge="addon-localbadges.user"] { background-size: contain!important }',document.getElementsByTagName("head")[0].appendChild(css),this.badges.loadBadgeData("addon-localbadges.user",{title:"User Specific Badges",color:"#5c9bfe",slot:0,image:"https://theessenceofdarkness.github.io/LocalBadges/res/devbadge.png",urls:{1:"https://theessenceofdarkness.github.io/LocalBadges/res/devbadge.png"}},!1),this.load_badges(),this.on("settings:changed:localbadges.badges",this.reload_badges,this),this.on("settings:changed:localbadges.users",this.reload_badges,this),this.log.info("Local Badges initialized successfully")}reload_badges(){this.unload_badges(),this.load_badges()}add_badge(user,provider,id,data){this.chat.getUser(void 0,user).addBadge(provider,id,data),this.badge_list.push({id:id,user:user,provider:provider})}unload_badges(){for(let i of this.badge_ids)delete this.badges.badges[i];this.badges.buildBadgeCSS();for(let i of this.badge_list)this.chat.getUser(void 0,i.user).removeBadge(i.provider,i.id);this.badge_uid=0,this.badge_ids=[],this.badge_list=[]}load_badges(){let badges=JSON.parse(this.settings.main_context.get("localbadges.badges"));for(let badge of badges){if(this.parse_badge_data(badge,!1),this.badge_ids.push(badge.id),void 0!=badge.users){for(var user of badge.users)this.add_badge(user,"localbadges",badge.id);delete badge.users}this.badges.loadBadgeData(badge.id,badge,!1)}this.badges.buildBadgeCSS();let users=JSON.parse(this.settings.main_context.get("localbadges.users"));for(var user of users)for(var badge of user.badges){let uid=this.badge_uid++;this.parse_badge_data(badge,!0),this.add_badge(user.nick,"localbadges"+uid,badge.id,badge)}}parse_badge_data(data,user){user?data.id="addon-localbadges.user":data.id?data.id=`addon-localbadges.s-${data.id}`:data.id=`addon-localbadges.r-${this.badge_uid++}`,data.urls={},data.urls[1]=data.image}}).register({id:"dark.localbadges",name:"Local Badges",description:"Allows you add badges to users locally.",settings:"add_ons.local_badges",version:"2019-06-08",author:"Dark"}),ffz.resolve("addon.dark.localbadges").enable()},"./src/schema/badges.json":
/*!********************************!*\
  !*** ./src/schema/badges.json ***!
  \********************************/
/*! exports provided: title, type, format, items, default */function(module){module.exports={title:"Badges",type:"array",format:"tabs",items:{type:"object",title:"Badge",headerTemplate:"{{ self.title }}​",required:["title","color","image","slot","users"],defaultProperties:["title","color","image","slot","users"],additionalProperties:!1,properties:{title:{type:"string",title:"Name",propertyOrder:0},color:{type:"string",title:"Color",propertyOrder:10},image:{type:"string",title:"Image URL",propertyOrder:20},slot:{type:"integer",title:"Slot",propertyOrder:30},no_invert:{type:"boolean",format:"checkbox",title:"No Invert",propertyOrder:50},replaces:{type:"string",title:"Replaces",propertyOrder:60},id:{type:"string",title:"ID",propertyOrder:70},users:{type:"array",format:"table",title:"Users",propertyOrder:80,items:{type:"string",title:"User"}}}}}},"./src/schema/users.json":
/*!*******************************!*\
  !*** ./src/schema/users.json ***!
  \*******************************/
/*! exports provided: title, type, format, items, default */function(module){module.exports={title:"Users",type:"array",format:"tabs",items:{type:"object",title:"User",required:["nick","badges"],headerTemplate:"{{ self.nick }}​",additionalProperties:!1,properties:{nick:{type:"string",title:"Username"},badges:{type:"array",title:"Badges",items:{type:"object",title:"Badge",headerTemplate:"{{ self.title }}​",additionalProperties:!1,required:["title","color","image","slot"],defaultProperties:["title","color","image","slot"],properties:{title:{type:"string",title:"Name",propertyOrder:0},color:{type:"string",title:"Color",propertyOrder:10},image:{type:"string",title:"Image URL",propertyOrder:20},slot:{type:"integer",title:"Slot",propertyOrder:30},no_invert:{type:"boolean",format:"checkbox",title:"No Invert",propertyOrder:40}}}}}}}}});
//# sourceMappingURL=localbadges.js.map